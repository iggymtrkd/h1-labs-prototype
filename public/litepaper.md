# **H1 Labs — Litepaper**  
> Status: Aligned with smart contracts as of 2025-10-19 | **UPDATED 2025-10-20: Enhanced accuracy on level thresholds, ownership mechanics, validator rewards, and detailed economic flywheel example**
> 
> **✨ MAJOR UPDATE 2025-10-23: New Tokenomics - Automatic H1 distribution on lab creation with vesting schedules. Labs now auto-deploy bonding curves with 10% liquidity. Owners receive 30% H1 (vested 6 months), 40% reserved for scholars, 15% for devs, 5% to treasury.**

### Advancing AI through provable, human‑validated data — powered by blockchain.

---

## 1. Mission, Goals, and Why Now

**Mission**  
H1 Labs is building the human‑first protocol for AI — a decentralized system where verified people enrich, validate, and monetize datasets with onchain provenance, compliance, and transparent economics.
Through our Dual‑Intelligence SDK, every app pairs an agent with a credentialed human, ensuring compliant data for regulated and semi‑regulated markets.

**Goals**  
- Launch a verifiable data economy spanning healthcare, robotics, law, art, and gaming.  
- Align incentives between contributors, validators, labs, and AI buyers through crypto‑native mechanics.  
- Make provenance, credentialing, and compliance default infrastructure for AI.

**Why Now**  
AI models demand trustworthy data. Today's pipelines are opaque, legally risky, and misaligned with human contributors. H1 Labs merges blockchain guarantees (provenance, payments, programmable policy) with human expertise to create compliant, auditable datasets that enterprises can trust.

We target regulated and semi‑regulated markets — starting with healthcare — and expanding to finance (AML/KYC), legal (privacy/privilege), defense (ITAR/EAR), robotics/industrial (safety standards), and media/creative (C2PA).

---

## 2. Our Edge — Strengths at a Glance

- **Provenance by Design**: Every enrichment and validation emits an onchain trace (who, when, what).  
- **Credentialed Humans**: Domain experts verified via the Credentialing Portal; no anonymous crowdwork for regulated data.  
- **Programmable Compliance**: Domain rules are enforced at the contract layer (HIPAA, GDPR, AEH, C2PA).  
- **Dual‑Intelligence SDK (Agent + Human)**: Apps pair an agent with credentialed human oversight for compliant workflows in regulated and semi‑regulated markets.  
- **Two‑Token Model ($LABS ↔ H1)**: $LABS governs and stakes; each Lab's H1 token is its vault share, enabling per‑lab economies.  
- **Modular Diamond Architecture**: EIP‑2535 facets make the system upgradeable, auditable, and extensible.  
- **Enterprise‑friendly UX**: SDK credit mode abstracts blockchain for Web2‑style apps.

---

## 3. What You Can Do on H1

- **Create a Lab**: Stake 100K+ LABS → automatic vault + bonding curve deployment → instant H1 distribution (30% owner/vested, 10% curve/liquid, 40% scholars, 15% devs, 5% treasury). Launch a domain Lab with its own H1 token (vault shares) in minutes.  
- **Enrich & Validate**: Contribute to datasets; validators with credentials approve quality.  
- **Buy/Access Data**: AI firms purchase verified datasets; payments route transparently to stakeholders.  
- **Build Apps**: Use the H1 SDK to ship compliant, provenance‑aware applications quickly.

---

## 3.5 Investor Playbook — The Simple $LABS → H1 Path

> **For crypto investors**: Here's your path to H1 Labs yields in simple steps.

### **The Basic Flow**

```
Step 1: Get $LABS          Step 2: Choose a Lab      Step 3: Stake            Step 4: Earn Passively
    ↓                           ↓                          ↓                          ↓
Buy on Exchange      →   Browse Domain Labs    →  Deposit $LABS      →  Wait for Datasets
  or Receive             (Healthcare, Robotics,     Get H1 shares         Revenue flows
                          Art, Legal, Gaming)        (Vault ownership)      NAV appreciates
                                                                            Buybacks execute
```

### **Step 1: Acquire $LABS Token**

**Where to get $LABS:**
- Purchase on DEX (when listed on mainnet)
- Mint via LP incentive programs
- Receive from ecosystem grants (top validators, early adopters)

**Initial Mindset:**
$LABS is your ticket to the protocol. Fixed supply (no inflation) means it becomes scarcer as adoption grows.

### **Step 2: Pick Your Domain & Lab**

**Browse the Labs Marketplace:**

H1 Labs features independent labs across multiple domains:

| Domain | Lab Examples | Revenue Profile |
|--------|--------------|-----------------|
| **Healthcare** | De-ID, Imaging, Quality Review | Highest TAM, regulated, premium pricing |
| **Robotics** | Motion Data, Safety Validation | Growing, technical, B2B buyers |
| **Art & Creative** | Game Assets, Provenance | Emerging, community-driven |
| **Legal & Compliance** | Document Review, AML/KYC | Enterprise, recurring revenue |
| **Education** | FERPA Datasets, Research | Academic, foundation-funded |

**How to Evaluate:**
- **Lab Metrics**: TVL, validators, completed datasets, average price per dataset
- **Growth Trajectory**: Velocity of dataset completion, revenue trend
- **Team**: Lab creator reputation, validator retention rate
- **Vision**: What datasets will this lab produce? Is there buyer demand?

**Risk Assessment:**
- Early labs (< $100K TVL) = higher growth potential, higher execution risk
- Mature labs ($500K+ TVL) = proven revenue, slower growth

### **Step 3: Stake $LABS to Get H1 Shares**

**Three Ways to Participate:**

**Option A: Direct Vault Deposit (Recommended for Long-Term)**
```
You send: 10,000 LABS
You receive: 10,000 H1 shares (approximately, at current NAV)
Cost: Deposit fee (0.75% default) = 75 LABS to protocol treasury
Benefit: Low cost, direct ownership, no premium
Entry: Instant
```

**Option B: Bonding Curve (✨ NEW: Available from Day 1)**
```
You send: 10,000 LABS
Protocol fee: 5% = 500 LABS (default, configurable)
POL reserve: 5% = 500 LABS (default, configurable)
Net deposited: 9,000 LABS
You receive: ~9,000 H1 shares (at NAV × 1.005)
Cost: ~10% total vs direct deposit
Benefit: Immediate trading, no waiting for curve deployment
Entry: Instant, tradeable immediately (7 day cooldown to redeem)

✨ NEW FEATURE: Every lab gets 10% of H1 supply in bonding curve from creation
Example: Lab creates with 100K LABS → 10,000 H1 available for trading day 1
```

**Option C: Secondary Market (After Launch)**
```
You send: ETH or other H1 tokens
You receive: H1 shares at market price
Cost: Trading fees (~0.3%)
Benefit: Price discovery, tactical entry/exit
Entry: Any time, instant trading
```

**What You Own:**

When you stake $LABS and receive H1 shares, you own:
- **Fractional ownership** of the lab's treasury
- **Claim on 50% of dataset revenue** (flows as NAV appreciation)
- **Passive exposure** to 25% buyback pressure (scarcity gains)
- **Participation** in that domain's ecosystem

**Example:**
```
Lab has $500K staked → 500K H1 shares outstanding
You deposit $50K → Receive 50K H1 shares
Your ownership: 50K / 550K = 9.1% of the lab
Your claim: 9.1% of all future dataset revenue (automatically)
Your benefit: 9.1% of all buyback gains (automatically)
```

### **Step 4: Wait for Datasets & Earn Passively**

**Timeline to Earnings:**

| Phase | Duration | What's Happening | Your Position |
|-------|----------|------------------|----------------|
| **Setup** | Weeks 1-4 | Lab deploys apps, validators join | Holding H1, waiting |
| **Ramp-up** | Weeks 5-12 | First datasets completed | Watching for revenue |
| **Monetization** | Month 3+ | Datasets sell to AI companies | Revenue flows in |
| **Compounding** | Ongoing | More sales, buybacks reduce supply | Passive gains accelerate |

**How Earnings Happen (Automated):**

1️⃣ **Dataset Sells** (e.g., $100K sale)
   - $40K → Lab's H1 Holders (Buyback for supply reduction)
   - $15K → App Developer incentive
   - $20K → Data Creators/Collectors
   - $20K → Scholars/Supervisors who validated
   - $5K → H1 Treasury (protocol operations)

2️⃣ **Your Share of Lab Revenue** (from buyback + NAV)
   - $40K buyback executes H1 repurchase → reduces supply
   - Your share of remaining H1 supply increases
   - $20K creators + $20K scholars revenue flows to vault as assets
   - NAV increases from accumulated assets
   - Result: Your H1 value grows via supply scarcity + NAV appreciation

3️⃣ **How Revenue Flows to All Stakeholders**
   - **Lab H1 Holders**: Automatic buyback reduces supply → ownership % increases
   - **Developers**: $15K incentivizes app/SDK builders
   - **Data Creators**: $20K paid from treasury for contributor effort
   - **Scholars**: $20K paid from treasury for validation/approval work
   - **Treasury**: $5K for protocol operations

4️⃣ **Result: Your H1 Value Grows**
   - Before: 50K shares × $1.00 = $50K value
   - After: 50K shares × $1.02+ = $51K+ value
   - Gain: From buyback scarcity + NAV growth
   - Happens automatically; no action needed

### **Step 5: Two Paths Forward**

**Path A: Long-Term Hold (Recommended)**

- **Thesis**: Believe in the domain's long-term revenue
- **Strategy**: Hold H1 and reinvest gains
- **Timeline**: 2-3+ years
- **Benefit**: Compounding returns (NAV growth + buybacks compound)
- **Exit**: When you believe growth has plateaued
- **Example Return**: $50K → $500K+ over 3 years (if lab scales 10x)

Year 1: Subsidy + early revenue = 50-100% APY  
Year 2: Revenue-driven = 80-150% APY  
Year 3+: Compounding = 50-100% APY sustainable  

**Path B: Tactical Trading (Higher Skill)**

- **Thesis**: Identify which labs will outperform
- **Strategy**: Rotate between high-growth and stable labs
- **Timeline**: 3-12 months per position
- **Benefit**: Capture upside before market recognizes
- **Risk**: May sell too early or miss long-term compounding
- **Tools**: Monitor leaderboard, validator retention, dataset velocity

Example Rotations:
```
Month 1-3: Buy H1-Healthcare ($50K TVL) → +150% gains
Month 4-6: Rotate to H1-Robotics ($100K TVL) → +200% gains
Month 7-12: Move to stable H1-Legal ($500K TVL) → +50% gains
Result: $10K initial → $100K+ through tactical sequencing
```

### **Key Mindset Shifts for Investors**

| Traditional Crypto | H1 Labs |
|-------------------|---------|
| **Value = Demand for token** | **Value = Real dataset sales** |
| **Yield = Inflation** | **Yield = Revenue from data** |
| **Risk = Protocol failure** | **Risk = Domain not finding buyers** |
| **Upside = Hype** | **Upside = Market adoption** |
| **Timeframe = 1-2 years** | **Timeframe = 3-5 years** |
| **Passive = Risky** | **Passive = Sustainable** |

### **FAQs for Investors**

**Q: Is my $LABS locked when I stake?**  
A: No. You can redeem H1 anytime (7-day cooldown + daily exit caps prevent bank runs). But early exit means you miss compounding.

**Q: Can I lose money?**  
A: Your downside is limited to your deposit. H1 is backed by vault assets (can't go below NAV). But if a lab doesn't generate revenue, your H1 stays at or below entry price.

**Q: Do I need to do anything to earn?**  
A: No. Just hold H1. Datasets selling, buybacks executing, and NAV appreciating happen automatically.

**Q: What if a lab's datasets don't sell?**  
A: Your H1 stays at current NAV. No passive yield, but no loss either. You can exit and move to a more successful lab.

**Q: Can I speculate on H1 prices?**  
A: Yes. Trade H1 on secondary market. But remember: price should track NAV + buyback gains. Wild speculation is prevented by price bounds.

**Q: Is $LABS or H1 more valuable?**  
A: Different roles. $LABS = platform play (scarcity, governance). H1 = lab-specific play (real yield). H1 likely outperforms in bull markets; $LABS more stable in downturns.

**Q: What's the exit strategy?**  
A: Redeem H1 for $LABS anytime (subject to cooldown). Convert $LABS back to stablecoins/ETH on DEX. Can take 7-10 days total.

---

## 3.6 Buy H1 Button — What Happens Behind the Scenes

> **For developers**: This section details the complete flow when users click "Buy H1" and the smart contract mechanics involved.

### **Overview: Three Purchase Methods**

When a user buys H1 tokens in a lab, they're actually **depositing $LABS into that lab's vault** and receiving fractional ownership (H1 shares). There are three paths to accomplish this:

### **Method 1: Direct Vault Deposit (Recommended)**

```
USER ACTION                          SMART CONTRACT LOGIC
════════════════════════════════════════════════════════════════════════

1. User chooses lab and enters amount:
   ├─ Lab: H1-Healthcare
   └─ Amount: 10,000 LABS
   
2. User approves LabVault to spend LABS
   └─ Call: LABSToken.approve(labVaultAddress, 10000)
   
3. User initiates deposit transaction
   └─ Call: LabVault.depositLABS(10000, userAddress)
   
4. Smart Contract Execution:
   ├─ Validate amount > 0 ✓
   ├─ Check reentrancy guard ✓
   ├─ Transfer 10,000 LABS from user to vault
   ├─ Calculate fee: 10,000 × 0.75% = 75 LABS
   ├─ Calculate net deposit: 10,000 - 75 = 9,925 LABS
   ├─ Get current NAV from vault
   │  └─ Example: NAV = $1.00/share (100K assets / 100K shares)
   ├─ Calculate H1 shares to mint: 9,925 / 1.00 = 9,925 shares
   ├─ Update totalAssets: 100,000 + 9,925 = 109,925
   ├─ Mint 9,925 H1 shares to user
   ├─ Transfer 75 LABS fee to treasury
   ├─ Emit events:
   │  ├─ DepositFeeCollected(user, 75)
   │  └─ Deposited(user, user, 9925, 9925)
   └─ Check if level changed (e.g., hit L2 threshold)

5. User receives:
   ├─ 9,925 H1 shares in wallet
   ├─ Ownership: 9,925 / 109,925 = 9.03% of lab
   └─ Can redeem after 7-day cooldown with 0.375% fee

COST BREAKDOWN:
├─ User sends: 10,000 LABS
├─ Deposit fee: 75 LABS (0.75%)
├─ User receives: 9,925 H1 shares backed by 9,925 LABS
└─ Total cost: 0.75% (lowest cost method)
```

---

### **Method 2: Bonding Curve (Bootstrap Phase)**

```
USER ACTION                          SMART CONTRACT LOGIC
════════════════════════════════════════════════════════════════════════

1. User views bonding curve:
   ├─ Current NAV: $1.00/share
   ├─ Curve price: NAV × 1.005 = $1.005/share
   └─ Protocol fee: 1.5%, POL reserve: 7.5%
   
2. User sends 10,000 LABS to BondingCurveSale
   └─ Call: BondingCurveSale.buy(10000, user, minSharesOut=8900)
   
3. Smart Contract Execution:
   ├─ Validate price in bounds ✓
   ├─ Validate price change < 50% ✓
   ├─ Transfer 10,000 LABS from user to curve
   ├─ Calculate allocations:
   │  ├─ Protocol fee: 10,000 × 1.5% = 150 LABS
   │  ├─ POL reserve: 10,000 × 7.5% = 750 LABS
   │  └─ Net to vault: 10,000 - 150 - 750 = 9,100 LABS
   ├─ Call: vault.depositLABS(9100, user)
   │  └─ Calculate H1 at current NAV: 9,100 / 1.00 = 9,100 shares
   ├─ Mint 9,100 H1 to user
   ├─ Transfer 150 LABS fee to treasury
   ├─ Transfer 750 LABS to POL reserve
   ├─ Check slippage: 9,100 > minSharesOut ✓
   └─ Emit: Purchased(user, 10000, 9100, 150, 750)

4. User receives:
   ├─ 9,100 H1 shares in wallet
   ├─ Ownership: 9,100 / 109,100 = 8.34% of lab
   ├─ Locked in 7-day cooldown (bootstrap phase)
   └─ After 7 days: can redeem or trade

COST BREAKDOWN:
├─ User sends: 10,000 LABS
├─ Protocol fee: 150 LABS (1.5%)
├─ POL reserve: 750 LABS (7.5%) [for liquidity]
├─ Curve premium: Built into curve formula
├─ User receives: 9,100 H1 shares
└─ Total cost: ~1.5% + time-lock (premium for early access)
```

---

### **Method 3: Secondary Market (After Bootstrap)**

```
USER ACTION                          SMART CONTRACT LOGIC
════════════════════════════════════════════════════════════════════════

1. User browses H1-Healthcare on DEX (Uniswap)
   ├─ Contract: 0x[LabVaultAddress]
   ├─ Symbol: H1CARD
   ├─ Current bid: 1.02 LABS/share
   └─ Current ask: 1.03 LABS/share
   
2. User executes market buy:
   ├─ Wants: 9,000 H1 shares
   ├─ Sends: ~9,270 LABS (9,000 × 1.03 + slippage)
   
3. Smart Contract Execution (DEX Swap):
   ├─ Execute swap atomically
   ├─ Send 9,270 LABS to seller (peer-to-peer)
   ├─ Send 9,000 H1 shares to buyer
   ├─ DEX collects fee: ~0.3% (depends on DEX)
   └─ Emit: Transfer(seller, buyer, 9000)

4. User receives:
   ├─ 9,000 H1 shares instantly
   ├─ No vault interaction (shares already minted)
   ├─ No cooldown (immediate liquidity)
   └─ Cost: Market price + 0.3% DEX fee

KEY DIFFERENCE FROM METHODS 1 & 2:
├─ No new deposits to vault
├─ No new H1 minting
├─ User receives existing H1 from secondary holder
└─ Price set by market, not NAV + fees

COST BREAKDOWN:
├─ User sends: ~9,270 LABS
├─ DEX trading fee: ~30 LABS (0.3%)
├─ User receives: 9,000 H1 shares
├─ Price paid: 1.03 LABS/share (market)
└─ Total cost: ~0.3% + market premium/discount
```

---

### **Comparison: Which Method to Use**

| Method | Cost | Speed | Lock-in | Best For |
|--------|------|-------|---------|----------|
| **Direct Deposit** | 0.75% | Instant | 7-day | Long-term holders, lowest cost |
| **Bonding Curve** | ~2% | Instant | 7-day | Early bootstrap, willing to pay premium |
| **Secondary Market** | ~0.3% | Instant | None | Active traders, maximum liquidity |

---

### **User's Ownership After Purchase**

No matter which method, the end result is the same:

```
User deposits $LABS → Smart contract locks it in vault
                     ↓
                 Mints H1 shares
                     ↓
User owns percentage = H1 shares held / Total H1 supply

EXAMPLE:
├─ User deposits: 9,925 LABS (Method 1)
├─ Gets: 9,925 H1 shares (at NAV $1.00)
├─ Lab total: 109,925 H1 shares
├─ User's %: 9,925 / 109,925 = 9.03%
│
└─ User is now entitled to:
   ├─ 9.03% of all dataset revenue flowing to vault (NAV growth)
   ├─ 9.03% of buyback scarcity gains (price appreciation)
   └─ Can redeem anytime to get $LABS back (minus fee + cooldown)
```

---

## 4. User Flows (High‑Level)

1) Lab Founder  
```
Connect Wallet → Stake 100K+ LABS → createLab(name, symbol, domain)
     ↓
Auto-deploys: LabVault (H1 token) + Bonding Curve
     ↓
Mints & distributes H1:
  ├─ 30% to Lab Owner (vested 6 months, weekly unlocks)
  ├─ 10% to Bonding Curve (liquid, tradeable immediately)
  ├─ 40% to Scholar Reserve (vested, paid as validation completes)
  ├─ 15% to Dev Reserve (vested, paid as development completes)
  └─ 5% to Protocol Treasury (instant distribution)
     ↓
Reach Level thresholds based on staked LABS → unlock app slots
  ├─ Level 1: 100K–250K LABS = 1 app slot
  ├─ Level 2: 250K–500K LABS = 2 app slots
  └─ Level 3: 500K+ LABS = 3 app slots
     ↓
Optional: Deploy LabPass for membership + identity verification
```

2) Contributor / Validator  
```
Sign up → Credentialing Portal (license/ID) → whitelisted for domain
Contribute/validate via apps (Scrubber, Second Opinion+, etc.)
Onchain provenance + rewards tracked to wallet
```

3) AI Buyer / Enterprise  
```
Discover datasets → purchase/license via RevenueFacet‑integrated flows
ETH routed: 50% Lab owner, 25% protocol treasury (H1 pool custody), 25% buyback budget
Auditable provenance & compliance artifacts for due diligence
```

---

## 4.1 Credentialing & Data Validation (NEW)

> **The Chain of Trust**: From verified identity → credentialed contributions → provable datasets → fair revenue distribution.

### **Credentialing System: On-Chain Identity**

Before contributing to regulated datasets, users must create **on-chain credentials** with verified expertise:

```
STEP 1: User Identity
  User calls: createUserId(address, "medical")
  On-chain result: userId = 42
  
STEP 2: Credential Issuance
  Organization issues: issueCredential(userId=42, "physician", "medical", ipfsHash)
  On-chain result: credentialId = 100 (status = PENDING)
  
STEP 3: Credential Verification
  Organization verifies: verifyCredential(credentialId=100)
  On-chain result: credentialId = 100 (status = VERIFIED)
  
User now has:
  ✓ Persistent on-chain identity
  ✓ Verified domain expertise (medical)
  ✓ Credential linked to data operations
```

**Key Features**:
- **Off-Chain Verification**: Credential documents stored on IPFS; only hash on-chain for privacy
- **Domain Tagging**: Medical experts, engineers, lawyers each have tagged credentials
- **Revocation Support**: Credentials can be revoked for misconduct; blocks future operations
- **Immutable History**: All credential actions (issue, verify, revoke) recorded as events

### **Dataset Validation: Proof of Provenance**

Once credentialed, users create and validate datasets with **proof of provenance** on-chain:

```
PHASE 1: DATA CREATION (Creator with verified credential)
  Creator calls: createData(
    labId, 
    dataHash,        // IPFS content pointer
    "medical",       // domain
    0xGPT4,         // base model
    credentialId=42  // verified credential linkage
  )
  Result: dataId = 100 (PENDING)
  
PHASE 2: REVIEW SUBMISSION (Domain-matched supervisor)
  Creator calls: submitForReview(
    dataId=100,
    0xPhysician,           // supervisor address
    supervisorCredentialId=101  // must be domain-matching
  )
  On-chain validation:
    ✓ supervisor has verified credential
    ✓ supervisor domain = data domain ("medical" == "medical")
    ✓ prevents unqualified reviewers
  
PHASE 3: OFF-CHAIN REVIEW
  Supervisor downloads from IPFS using dataHash
  Supervisor reviews for quality/compliance
  Supervisor computes Δ-Gain: (92% - 85%) / 85% = 824 bps (8.24% improvement)
  
PHASE 4: ON-CHAIN APPROVAL
  Supervisor calls: approveData(
    dataId=100,
    deltaGainScore=824,
    approvalSignature
  )
  Result:
    ✓ dataId = 100 (APPROVED)
    ✓ Proof of provenance recorded on-chain
    ✓ Attribution created for revenue splits
    ✓ Event log: creator, supervisor, score, timestamp

Flow Diagram:
  Creator (Credential 42) → Create Data → Submit to Supervisor
                                              ↓
                    Supervisor (Credential 101, same domain)
                         ↓
                    Review offline (IPFS)
                         ↓
                    Approve with Δ-Gain (824)
                         ↓
                    Immutable Provenance On-Chain
                         ↓
                    Ready for Monetization
```

### **Attribution & Revenue Distribution**

Approved datasets carry **immutable attribution** that enables fair revenue splits:

```
When dataset sells for $100K:
├─ Identify creator & supervisor from on-chain Attribution
├─ Calculate delta-gain: 824 bps (8.24% improvement)
├─ Distribute revenue:
│  ├─ Creator: 40% = $40K
│  │  (Baseline 25% + delta-gain bonus 15%)
│  ├─ Supervisor: 10% = $10K
│  │  (Baseline 5% + delta-gain bonus 5%)
│  └─ Lab: 50% = $50K
├─ All payouts traceable to credentials
└─ All splits verified on-chain
```

**Why it matters**:
- Credentials tied to revenue = incentive for quality
- Delta-gain measured against base model = objective quality metric
- On-chain attribution = transparent, verifiable splits
- Immutable history = regulatory compliance

---

### **Credentialing + Validation Flow Diagram**

```
┌────────────────────────────────────────────────────────────────┐
│              H1 Labs: Credentialing → Validation               │
└────────────────────────────────────────────────────────────────┘

TIER 1: IDENTITY & CREDENTIALING (CredentialFacet)
  
  User Address (0xResearcher)
        │
        ├─ createUserId("medical")
        │        │
        │        └─ userId = 5
        │
        ├─ [Organization] issueCredential(5, "physician", "medical", 0xIPFS)
        │        │
        │        └─ credentialId = 42 (PENDING)
        │
        └─ [Organization] verifyCredential(42)
                 │
                 └─ credentialId = 42 (VERIFIED) ✅

─────────────────────────────────────────────────────────────

TIER 2: DATA CREATION & VALIDATION (DataValidationFacet)

  Creator (0xResearcher, credential 42✅)
        │
        ├─ createData(lab, hash, "medical", model, credential=42)
        │        │
        │        └─ dataId = 100 (PENDING)
        │
        ├─ submitForReview(dataId=100, supervisor, credential=43✅)
        │  [Domain match: "medical" == "medical" ✓]
        │        │
        │        └─ dataId = 100 (PENDING_REVIEW)
        │
        │  [Supervisor reviews offline]
        │
        └─ approveData(dataId=100, deltaGain=824, signature)
                 │
                 ├─ dataId = 100 (APPROVED) ✅
                 ├─ Attribution stored on-chain
                 │  └─ creator, supervisor, lab, delta-gain
                 └─ Ready for monetization

─────────────────────────────────────────────────────────────

TIER 3: REVENUE ATTRIBUTION

  $100K Dataset Sale
        │
        ├─ Query Attribution for dataId=100
        ├─ Split based on credentials + delta-gain
        │
        ├─ Creator (credential 42): $40K (40%)
        ├─ Supervisor (credential 43): $10K (10%)
        └─ Lab: $50K (50%)

  All splits traceable to credentials on-chain ✅
```

---

## 4.2 Smart Contract Architecture

### **Global Architecture: Diamond Pattern (EIP-2535)**

The H1 Labs protocol uses the **Diamond Pattern** for modular, upgradeable smart contracts:

```
H1Diamond (Proxy Router)
    ├─ DiamondCutFacet (add/remove facets)
    ├─ DiamondLoupeFacet (inspect facet functions)
    ├─ OwnershipFacet (admin controls)
    ├─ SecurityFacet (access control)
    ├─ LABSCoreFacet (create labs)
    ├─ VaultFacet (deploy per-lab vaults)
    ├─ LabPassFacet (deploy per-lab passes)
    ├─ BondingCurveFacet (bonding curve deposits)
    ├─ CredentialFacet (user credentials & identity)
    ├─ DataValidationFacet (dataset validation with delta-gain)
    ├─ RevenueFacet (revenue distribution splits)
    └─ TreasuryFacet (protocol treasury management)
```

All facets share state via **LibH1Storage** (centralized storage library), enabling seamless upgrades without data migration.

### **Credentialing & Validation Facets**

The credentialing and validation systems are implemented as **Diamond facets** (EIP-2535):

| Component | Location | Purpose |
|-----------|----------|---------|
| **CredentialFacet** | `/contracts/facets/CredentialFacet.sol` | User identity, issue/verify/revoke credentials |
| **DataValidationFacet** | `/contracts/facets/DataValidationFacet.sol` | Data creation, review submission, approval with delta-gain |
| **LibH1Storage** | `/contracts/libraries/LibH1Storage.sol` | Shared state: Credential struct, UserProfile, DataRecord, Attribution |
| **H1Diamond** | `/contracts/H1Diamond.sol` | Router: delegates calls to appropriate facet |

**Key Data Structures**:

```solidity
Credential:
  ├─ credentialId: unique ID
  ├─ holder: user address
  ├─ userId: link to user profile
  ├─ issuer: organization address
  ├─ credentialType: "physician", "engineer", etc.
  ├─ domain: "medical", "robotics", "finance"
  ├─ status: 0=PENDING, 1=VERIFIED, 2=REVOKED
  └─ offChainVerificationHash: IPFS document hash

DataRecord:
  ├─ dataId: unique ID
  ├─ creator: creator address (has credential)
  ├─ supervisor: approver address (has matching credential)
  ├─ dataHash: IPFS/Arweave pointer
  ├─ domain: "medical", "robotics", etc.
  ├─ status: 0=PENDING, 1=APPROVED, 2=REJECTED
  ├─ deltaGainScore: 0-10000 basis points (quality metric)
  └─ timestamps: createdAt, approvedAt

Attribution:
  ├─ creator: who created data
  ├─ supervisor: who approved data
  ├─ labId: which lab owns dataset
  ├─ deltaGainScore: quality measure
  └─ revenueShare: allocated to creator + supervisor
```

### **Per-Lab Vault & Pass Architecture (Deployed on Demand)**

While facets are **global and deployed once** to the H1Diamond, each Lab gets its own **isolated vault and pass contracts**:

#### **Distinction: Facet vs Per-Lab Contract**

| Component | Facet (Global) | Per-Lab Contract |
|-----------|--|--|
| **VaultFacet** | ✅ Deployed once; calls via H1Diamond | — |
| **LabVault** | — | ✅ **Deployed per lab** when lab is created |
| **LabPassFacet** | ✅ Deployed once; calls via H1Diamond | — |
| **LabPass** | — | ✅ **Deployed per lab** when requested |
| **Scope** | All labs use the same facet code | Each lab has isolated vault + pass |
| **State** | Shared global state via LibH1Storage | Independent ERC20/ERC721 state |

#### **How It Works: Per-Lab Deployment Flow**

**When a user creates a lab:**

```
User calls: createLab("MediTrust", "MEDI", "medical")
     ↓
LABSCoreFacet.createLab() (global facet on H1Diamond)
     ├─ Creates Lab record (stored in LibH1Storage)
     ├─ Deploys NEW LabVault contract
     │  └─ Location: /contracts/vaults/LabVault.sol
     │  └─ Instance: 0xABC123... (unique per lab)
     │  └─ Contains: ERC20-style H1 token logic, deposit/redemption mechanics
     │  └─ Features: Cooldown periods, exit caps, level tracking, fee management
     ├─ Deploys NEW BondingCurveSale contract (optional)
     │  └─ Location: /contracts/sales/BondingCurveSale.sol
     │  └─ Enables: Accelerated capital raise with 0.5% premium
     └─ Stores addresses: labIdToVault[labId] = LabVault, labIdToPass[labId] = null

Result: Lab now has its own vault + optional bonding curve
```

**When LabPassFacet.deployLabPass() is called:**

```
User calls: deployLabPass(labId)
     ↓
LabPassFacet.deployLabPass() (global facet on H1Diamond)
     ├─ Deploys NEW LabPass contract
     │  └─ Location: /contracts/tokens/LabPass.sol
     │  └─ Instance: 0xDEF456... (unique per lab)
     │  └─ Type: ERC721 NFT (soulbound or transferable)
     │  └─ Features: Level-based membership, app slot allocation
     ├─ Sets LabPassFacet as minter
     │  └─ Enables: mintLabPass() to create NFTs for members
     └─ Stores address: labIdToLabPass[labId] = LabPass

Result: Lab now has LabPass NFT system for membership
```

#### **LabVault Contract Details**

Each **LabVault** is an independent ERC20-style contract that:

```solidity
contract LabVault {
  // Immutable config (set at deployment)
  address immutable labsToken;      // $LABS token address
  address public labOwner;          // Lab creator (receives fees)
  address public treasury;          // Protocol treasury
  
  // Dynamic config (managed by admin)
  uint64 cooldownSeconds;           // Redemption cooldown (e.g., 7 days)
  uint16 epochExitCapBps;           // Max % that can exit per epoch (e.g., 20%)
  uint16 depositFeeLabOwnerBps;     // 1.5% to lab owner
  uint16 depositFeeTreasuryBps;     // 1% to protocol treasury
  uint16 redemptionFeeLabOwnerBps;  // 1.5% to lab owner
  uint16 redemptionFeeTreasuryBps;  // 1% to protocol treasury
  
  // Vault state
  uint256 totalAssets;              // $LABS locked in vault
  uint256 pendingExitAssets;        // $LABS waiting cooldown
  uint256 epochExitedAssets;        // $LABS exited this epoch
  
  // ERC20 shares
  mapping(address => uint256) balanceOf;  // H1 shares per user
  uint256 totalSupply;              // Total H1 in circulation
  
  // Level tracking
  uint256 LEVEL1 = 100_000e18;      // Unlock 1 app slot
  uint256 LEVEL2 = 250_000e18;      // Unlock 2 app slots
  uint256 LEVEL3 = 500_000e18;      // Unlock 3 app slots
}
```

**Key Methods:**
- `deposit(amount)`: Lock $LABS, mint H1 shares at current NAV
- `requestRedemption(shares)`: Request to exit (starts cooldown)
- `claimRedemption(requestId)`: Claim $LABS after cooldown
- `getCurrentLevel()`: Check level based on TVL
- `setFees()`: Adjust fee structure (admin only)

#### **LabPass Contract Details**

Each **LabPass** is an independent ERC721 NFT contract that:

```solidity
contract LabPass is ERC721 {
  // Metadata
  string name = "LabPass";
  string symbol = "LBP";
  
  // Soulbound config
  bool transferable;                // Admin can toggle soulbinding
  address minter;                   // Facet that can mint
  address admin;                    // Lab owner
  
  // NFT data per token
  struct PassData {
    uint8 level;                    // 1-10 (membership tier)
    uint8 appSlots;                 // Number of app slots user can use
  }
  mapping(uint256 => PassData) passData;
  
  // Standard ERC721 state
  mapping(uint256 => address) ownerOf;
  mapping(address => uint256) balanceOf;
}
```

**Key Methods:**
- `mint(to, tokenId, level, slots)`: Create membership NFT (minter only)
- `burn(tokenId)`: Revoke membership
- `setTransferable(bool)`: Toggle soulbound mode
- `updatePassData(tokenId, level, slots)`: Update tier/slots

#### **Why Per-Lab Contracts?**

✅ **Isolation**: Each lab's vault is independent; a bug or exploit doesn't affect others  
✅ **Scalability**: No shared state bottleneck; can scale to millions of labs  
✅ **Customization**: Each lab can configure fees, cooldowns, and parameters independently  
✅ **Gas Efficiency**: Only deploy what's needed; users don't pay for unused features  
✅ **Regulatory Compliance**: Each lab's financial state is independently auditable  

---

## 4.4 Reading Lab Data On-Chain — Complete Reference

> **For Developers & Data Scientists**: Lab information is fully queryable on-chain through the H1Diamond smart contract without any off-chain APIs or indexing delays.

### **Key On-Chain Read Functions**

All lab data is stored and readable directly from the blockchain via the H1Diamond contract (`0x29a7297e84df485aff8def2d27e467f3a37619c0` on Base Sepolia):

#### **Lab Details & Metadata**
```solidity
function getLabDetails(uint256 labId) external view returns (
    address owner,      // Lab creator's wallet
    address h1Token,    // H1 token vault address
    string domain,      // Lab domain (e.g., "healthcare", "art")
    bool active,        // Whether lab is active
    uint8 level         // Lab level (1, 2, or 3)
)
```

#### **H1 Token Distribution**
```solidity
function getLabDistribution(uint256 labId) external view returns (
    uint256 totalMinted,        // Total H1 tokens minted
    uint256 ownerAllocation,    // 30% to owner
    uint256 curveAllocation,    // 10% to bonding curve
    uint256 scholarAllocation,  // 40% to scholars
    uint256 devAllocation,      // 15% to developers
    uint256 treasuryAllocation, // 5% to treasury
    uint256 ownerVestingId,     // Vesting schedule ID
    bool initialized            // Whether distribution complete
)
```

#### **Bonding Curve Address**
```solidity
function getBondingCurve(uint256 labId) external view returns (address)
```

#### **H1 Vault Information** (via LabVault contract)
```solidity
function name() public view returns (string)              // H1 token name
function symbol() public view returns (string)            // H1 ticker
function totalSupply() public view returns (uint256)      // Total H1 in circulation
function totalAssets() public view returns (uint256)      // Total LABS backing
function assetsPerShare() public view returns (uint256)   // Price per H1 share
function balanceOf(address) public view returns (uint256) // User's H1 balance
```

### **Example: Get Complete Lab Info**

```typescript
const labId = 18;

// 1. Get lab details
const [owner, h1Vault, domain, active, level] = 
  await diamond.getLabDetails(labId);
// owner: 0xd3a57fc777fa1fb67c2517a417e58d200c0297fb
// h1Vault: 0xf98221fc5ac987cac08aa407d0f76fbe20eb6fa8
// domain: "art"
// level: 1

// 2. Get H1 distribution
const [total, ownerAlloc, curveAlloc, scholarAlloc, devAlloc, treasuryAlloc] = 
  await diamond.getLabDistribution(labId);
// total: 100000000000000000000000 (100k H1 in wei)

// 3. Get H1 vault info
const vault = new ethers.Contract(h1Vault, LabVault_ABI, provider);
const name = await vault.name();        // "H1 - iggy lab"
const symbol = await vault.symbol();    // "H1IGGY"
const totalAssets = await vault.totalAssets();  // 100k LABS
const price = await vault.assetsPerShare();     // Exchange rate

// 4. Get bonding curve
const curveAddr = await diamond.getBondingCurve(labId);
const curve = new ethers.Contract(curveAddr, BondingCurveSale_ABI, provider);
const h1Price = await curve.price();    // Current price in LABS
```

### **Data Available On-Chain**

| Information | Source | Cost |
|-------------|--------|------|
| Lab owner, vault, domain, level | H1Diamond | Read-only (0 gas) |
| H1 total supply | H1 Vault | Read-only (0 gas) |
| LABS backing | H1 Vault | Read-only (0 gas) |
| LABS/H1 price (NAV) | H1 Vault | Read-only (0 gas) |
| H1 distribution breakdown | H1Diamond | Read-only (0 gas) |
| Market price for H1 | Bonding Curve | Read-only (0 gas) |
| User's H1 balance | H1 Vault | Read-only (0 gas) |
| Lab creator reputation | Events | Read-only (indexing) |

**All data is queryable without gas costs.** Event scanning via Blockscout API provides historical records.

See [`ONCHAIN_LAB_DATA_REFERENCE.md`](../ONCHAIN_LAB_DATA_REFERENCE.md) for complete reference with code examples.

---

## 4.5 Lab Creation & Growth Mechanics

### **Lab Creation Flow Diagram**

```
┌──────────────────────────────────────────────────────────────────────────────┐
│                    H1 LABS: LAB CREATION WORKFLOW                            │
└──────────────────────────────────────────────────────────────────────────────┘

STEP 1: CREATOR STAKES LABS
  Creator Wallet
       │
       ├─ Connects to H1Diamond
       ├─ Approves 100K+ LABS for staking (single batch with createLab)
       └─ Calls: createLab(name="HeathTrust", symbol="HTH", domain="healthcare")
            └─ Staked Amount: 100,000 LABS (minimum)
            
                                    ↓
                    
STEP 2: SMART CONTRACT EXECUTION
  H1Diamond.createLab()
       │
       ├─ Validates input (name, symbol, domain)
       ├─ Creates Lab record in storage
       └─ Determines Lab Level based on staked LABS:
            ├─ 100K–250K LABS   → Level 1 (1 app slot)
            ├─ 250K–500K LABS   → Level 2 (2 app slots)
            └─ 500K+ LABS       → Level 3 (3 app slots)
            
                                    ↓
                    
STEP 3: AUTOMATIC DEPLOYMENT
  LabVaultDeploymentFacet
       │
       ├─ Deploys NEW LabVault contract (isolated ERC20)
       │  └─ Contract Address: 0x[unique per lab]
       │  └─ Stores: H1 token state, balances, NAV calculation
       │
       ├─ Deploys NEW BondingCurveSale contract (optional, now automatic)
       │  └─ Contract Address: 0x[unique per lab]
       │  └─ Stores: 10% of H1 supply for immediate trading
       │  └─ Price: NAV × 1.005 (0.5% premium)
       │
       └─ Transfers staked LABS to new LabVault
            └─ Vault Assets = 100,000 LABS
            
                                    ↓
                    
STEP 4: AUTOMATIC H1 MINTING & DISTRIBUTION
  LibH1Distribution.distribute()
       │
       ├─ Mints Total H1: 100,000 H1 (1:1 with staked LABS)
       │
       ├─ Distributes H1:
       │  ├─ 30% (30,000 H1) → Lab Owner
       │  │   └─ Vesting: 26 weeks, 1 week cliff, weekly unlocks
       │  │   └─ Week 1: ~1,154 H1 claimable
       │  │   └─ Week 26: 30,000 H1 fully claimable
       │  │
       │  ├─ 10% (10,000 H1) → Bonding Curve
       │  │   └─ Status: LIQUID immediately
       │  │   └─ Available: For trading on curve
       │  │
       │  ├─ 40% (40,000 H1) → Scholar Reserve
       │  │   └─ Vesting: Triggered by validation completion
       │  │   └─ Paid: To validators as they complete dataset work
       │  │
       │  ├─ 15% (15,000 H1) → Dev Reserve
       │  │   └─ Vesting: Triggered by development completion
       │  │   └─ Paid: To developers as features ship
       │  │
       │  └─ 5% (5,000 H1) → Protocol Treasury
       │      └─ Status: INSTANT distribution
       │      └─ Purpose: Protocol operations, audits, grants
       │
       └─ Creates Vesting Schedule for Lab Owner
            └─ VestingSchedule ID: linked to labId
            └─ On-chain: All vesting events recorded
            
                                    ↓
                    
STEP 5: LAB GOES LIVE
  H1 LabVault (ERC20)
       │
       ├─ State:
       │  ├─ Total Assets: 100,000 LABS
       │  ├─ Total Supply: 100,000 H1 shares
       │  ├─ NAV: $100,000 / 100,000 = $1.00/share
       │  ├─ Level: 1 (1 app slot unlocked)
       │  └─ Status: LIVE & TRADEABLE
       │
       ├─ Community Can Now:
       │  ├─ BUY H1 from bonding curve (10K supply available)
       │  ├─ STAKE additional LABS to mint new H1
       │  └─ TRADE H1 on secondary markets (once listed)
       │
       └─ Creator Can Now:
            ├─ CLAIM vested H1 (starting Week 1)
            ├─ STAKE additional LABS (if desired)
            └─ MANAGE lab via app slots
            
                                    ↓
                    
STEP 6: OPTIONAL - EARLY BOOTSTRAP VIA BONDING CURVE
  Users deposit LABS
       │
       ├─ Bonding Curve Price: NAV × 1.005 = $1.005/share
       ├─ Fee Breakdown (configurable):
       │  ├─ Protocol Fee: 5% = 500 LABS (per 10K deposit)
       │  ├─ POL Reserve: 5% = 500 LABS (for liquidity)
       │  └─ Net to Vault: 9,000 LABS
       │
       ├─ Result:
       │  ├─ User receives: ~9,000 H1 shares
       │  ├─ Vault assets: 100,000 + 9,000 = 109,000 LABS
       │  └─ NAV: Still ~$1.00/share (proportional minting)
       │
       └─ Timeline: Repeatable, 7-day cooldown to redeem
       
                                    ↓
                    
STEP 7: CONTINUOUS OPERATION
  Lab generates datasets, validators enrich/approve
       │
       ├─ Datasets sold → Revenue flows in
       │  └─ 50% to Lab Owner/Validators (NAV appreciation)
       │  └─ 50% to Protocol (for creator/validator payouts + buybacks)
       │
       ├─ Buyback execution (proportional to revenue)
       │  └─ H1 supply decreases → NAV × scarcity effect
       │  └─ Existing holders gain value without action
       │
       └─ Lab grows → TVL increases → NAV increases → H1 value appreciates
            ├─ Early supporters rewarded exponentially
            └─ Self-reinforcing flywheel
            
┌──────────────────────────────────────────────────────────────────────────────┐
│ RESULT: Lab is created, H1 is live, and ecosystem is ready to grow!          │
│         All mechanics are automatic and transparent.                          │
└──────────────────────────────────────────────────────────────────────────────┘
```

### **Lab Lifecycle & Ownership**

Creating a Lab unlocks automatic tokenomics with built-in distribution:

**Stage 1: Lab Creation & Automatic H1 Distribution** ✨ **NEW**  
Lab creator calls `createLab(name, symbol, domain)` with **minimum 100,000 LABS staked**. The system automatically:

1. **Deploys LabVault** (H1 token contract)
2. **Deploys Bonding Curve** (enables immediate H1 trading)
3. **Mints H1 tokens** (1:1 with staked LABS, capped at 500,000 H1 per lab)
4. **Distributes H1 automatically**:

```
Example: Creator stakes 100,000 LABS → 100,000 H1 minted

Automatic Distribution:
├─ 30% → Lab Owner (30,000 H1) - VESTED over 6 months, weekly unlocks
├─ 10% → Bonding Curve (10,000 H1) - LIQUID, tradeable immediately
├─ 40% → Scholar Reserve (40,000 H1) - VESTED, paid as validation completes
├─ 15% → Dev Reserve (15,000 H1) - VESTED, paid as development completes
└─ 5% → Protocol Treasury (5,000 H1) - INSTANT distribution

Total: 100% allocated at creation
```

**Key Changes from Previous System:**
- ❌ **OLD**: Creator had to manually deploy bonding curve, no H1 received
- ✅ **NEW**: Bonding curve auto-deployed, creator receives 30% H1 (vested)

**Vesting Schedule for Lab Owner:**
- **Duration**: 26 weeks (6 months)
- **Cliff**: 1 week (first unlock after 1 week)
- **Frequency**: Weekly unlocks (linear vesting)
- **Example Timeline**:
  - Week 0: 30,000 H1 allocated, 0 claimable
  - Week 1: ~1,154 H1 claimable (1/26 of total)
  - Week 13: ~15,000 H1 claimable (50% of total)
  - Week 26: 30,000 H1 fully claimable (100% of total)

**Level Unlocking (Based on Staked LABS at Creation):**

| Level | LABS Staked | App Slots | H1 Minted | Implications |
|-------|-------------|-----------|-----------|--------------|
| **L1** | 100K–250K | 1 | 100K–250K H1 | Can run 1 backend/frontend app pair |
| **L2** | 250K–500K | 2 | 250K–500K H1 | Can run 2 app slots in parallel |
| **L3** | 500K+ | 3 | 500K H1 (capped) | Can run 3 app slots in parallel |

**Stage 2: Immediate Trading via Bonding Curve**  
With 10% of H1 automatically allocated to the bonding curve at creation, users can immediately:
- **Buy H1** with LABS at `NAV × 1.005` (0.5% premium)
- **Price discovery** starts immediately
- **No manual deployment needed** - curve is live from day 1

**Stage 3: Growth via Additional Deposits**  
After initial distribution, additional users can:
- **Buy from bonding curve** (if available supply)
- **Deposit directly to vault** (if vault allows additional deposits)
- **Trade on secondary markets** (once H1 is listed)

Ownership becomes fractional as more users participate:
```
Example Timeline:
├─ T0 (Creation): Creator owns 30% vested + vault holds 55% for future distribution
├─ T1 (Week 1): Creator claims 1,154 H1, starts trading on curve
├─ T2 (Month 3): Community buys 50K H1 from bonding curve
├─ Total H1 supply: 100K original + any additional minted via vault deposits
└─ Creator's ownership: Diluted but NAV increases with community participation
```

### **Revenue Accrual & NAV Growth**

As the lab generates revenue from dataset sales, the vault's total assets increase, which increases the NAV (assets per share) for all H1 holders:

```
Ownership Dilution & Value Growth Example:

Time T0 (Lab Creation):
├─ Creator deposits: $100K
├─ Creator's H1: 100K shares (100% ownership)
├─ Lab assets: $100K
├─ NAV: $1.00/share
└─ Creator's value: $100K

Time T1 (After Bonding Curve - 200K raise):
├─ New investors deposit: $200K via bonding curve
├─ Fee + POL allocated: $30K
├─ New vault assets: $100K + $170K = $270K
├─ Total H1 supply: ~270K shares
├─ Creator's ownership: 100K/270K = 37% of lab
├─ New NAV: $270K/270K = $1.00/share
└─ Creator's value: 100K × $1.00 = $100K (same, but now owns 37% instead of 100%)

Time T2 (After $100K Dataset Revenue):
├─ Dataset sale: $100K
├─ Lab owner/validators: $50K (flows to vault)
├─ Treasury: $25K (protocol custody)
├─ Buyback reserve: $25K
├─ New vault assets: $270K + $50K = $320K
├─ Total H1 supply: ~270K shares (pre-buyback)
├─ New NAV: $320K/270K = $1.185/share
└─ Creator's value: 100K × $1.185 = $118.5K (+18.5% appreciation)

Time T3 (After Buyback Execution):
├─ Buyback reserves: $25K used to repurchase H1 at market
├─ H1 supply reduced: 270K → ~260K shares (assuming $0.96 average price)
├─ Vault assets: $320K (unchanged)
├─ New NAV: $320K/260K = $1.231/share
└─ Creator's value: 100K × $1.231 = $123.1K (+23.1% total appreciation)
```

**Key Mechanic**: H1 holders don't receive new tokens; instead, their existing shares increase in value as (1) vault backing grows from revenue and (2) buybacks reduce total supply. This aligns incentives for lab success without dilution.

---

## 6. $LABS and H1 — Detailed Mechanics & Economic Flywheel

> 📚 Tokenomics overview: See Section 5 above. For deeper details, see [`docs/8-h_1_tokenomics_distribution.md`](8-h_1_tokenomics_distribution.md)

This section provides detailed mechanics of how $LABS and H1 interact within the platform's economic flywheel.

### Key Definitions:

- **$LABS (Singleton ERC‑20)**: Platform governance, staking, and lab creation asset. Set via `TreasuryFacet.setLABSToken`.  
- **H1 (Per‑Lab ERC‑20 Shares)**: Each Lab's `LabVault` is its own H1 token. Depositing $LABS mints H1 shares at NAV; redemptions return $LABS subject to cooldown and exit caps.  
- **Bonding Curve (Optional)**: `BondingCurveSale` buys H1 at NAV + 0.5% premium, routing fees/POL to treasury and depositing net $LABS to the lab's vault.  
- **Levels & App Slots**: LabVault tracks total assets to derive levels (L1/L2/L3) unlocking 1/2/3 app slots.  
- **Revenue Split (Current Implementation - 100% Allocation)**: 
   - 40% → Lab's H1 Holders (via buyback that reduces supply)
   - 15% → App Developer incentive (protocol treasury)
   - 20% → Data Creators/Collectors (protocol treasury)
   - 20% → Scholars/Supervisors (protocol treasury)
   - 5% → H1 Protocol Treasury
   
   All treasury allocations handled via centralized distribution from protocol treasury.

Economic intent: AI demand for verified datasets drives onchain payments that flow to Labs and treasury, with retained buyback budgets enabling future buy pressure mechanisms without dividend semantics.

---

### 6.5 Staking & Validator Rewards

**$LABS serves three functions:**
1. **Lab Creation & Deposits**: Stake $LABS → mint H1 shares → unlock app slots and dataset economy
2. **Validation Rewards**: Contribute to datasets → earn $LABS grants + lab-specific H1 tokens
3. **Governance**: Hold $LABS → vote on protocol upgrades (future DAO)

**Validator Economics: Revenue Distribution Model**

When a dataset sells (e.g., $100K), revenue is split as follows:

```
$100K Dataset Sale → Revenue Distribution (100% Allocation)

├─ Lab's H1 Holders Buyback (40% = $40K)
│  └─ Treasury executes H1 token repurchase
│     └─ Reduces H1 supply on the market
│     └─ Benefits ALL H1 holders via increased ownership % and scarcity appreciation
│     └─ Example: 40K H1 tokens bought and burned
│        ├─ Previous supply: 1M H1
│        ├─ New supply: 960K H1
│        └─ Your ownership %: Increased without any action
│
├─ App Developer Incentive (15% = $15K)
│  └─ Allocated from treasury for SDK builders and app creators
│     └─ Encourages development ecosystem growth
│     └─ Paid in H1 or $LABS based on protocol designation
│     └─ Example: Scrubber developer earns recognition for healthcare apps
│
├─ Data Creators/Collectors (20% = $20K)
│  └─ Allocated from treasury to contributors who collected/enriched data
│     └─ Proportional to quality and contribution score
│     └─ Paid directly to data collectors
│     └─ Example: 50 data collectors share $20K based on contribution quality
│
├─ Scholars/Supervisors (20% = $20K)
│  └─ Allocated from treasury to validators and supervisors who reviewed/approved
│     └─ Proportional to quality of validation and expertise
│     └─ Paid directly to validators
│     └─ Example: Board-certified clinicians earn based on rigor of approval
│
└─ H1 Protocol Treasury (5% = $5K)
   └─ Retained for protocol operations, infrastructure, and future initiatives
      └─ Covers development, audit, and ecosystem grants
```

**How This Differs From Old Model:**
- **Old**: 50% Lab Owner + 25% Treasury + 25% Buyback (conceptually confusing)
- **New**: 40% Buyback (benefits ALL H1 holders) + 15% Dev + 20% Creators + 20% Scholars + 5% Treasury (100% clear allocation)

**Contributor Roles & Reward Streams**

|| Role | Function | Reward Mechanism | Payment Token | Examples |
||------|----------|------------------|---------------|----------|
|| **Data Creators** | Collect, enrich, and annotate dataset entries | 20% of dataset sale revenue, proportional to contribution quality | Direct payment from treasury | Healthcare startup collects de-identified records; robotics team gathers motion data |
|| **Scholar/Validator** | Review, validate, and approve dataset for compliance | 20% of dataset sale revenue, quality-bonus multiplier for rigorous oversight | Direct payment from treasury | Board-certified radiologist approves imaging dataset; roboticist signs off on safety data |
|| **Developer** | Build apps using H1 SDK, integrate compliance, manage operations | 15% of dataset sale revenue + future app-specific revenue splits | H1 or $LABS from treasury | Healthcare startup builds Scrubber app; robotics firm integrates DataValidationFacet |
|| **App User/Buyer** | Purchase datasets, integrate into production models | Access to verified, compliant data with onchain provenance proof | Transparent pricing; dataset economics determined by supply/demand | AI company downloads healthcare dataset with full audit trail for FDA defense |

**Attribution & Credentialing**

Validator contribution attribution is tracked through:
- **Credentialing Portal**: Verify domain expertise (medical licenses, legal credentials, certifications)
- **Onchain Provenance**: ProvenanceFacet logs each validator's enrichment/validation actions with timestamp
- **Quality Scoring**: Off-chain reputation system (future: onchain governance) scores contributions
- **Payment Distribution**: Treasury oracle aggregates contribution scores and distributes rewards proportionally

**Key Insight**: Validator rewards are **real, proportional to contribution**, and **sustainable** because they're funded by actual dataset sales, not token inflation. Scarcity pressure from buybacks further benefits all contributors who hold H1.

This aligns incentives: more valuable contributions → higher reward tier; increased lab success → increased validator payouts; platform growth → sustained buyback pressure → all H1 holders gain.

---

### 6.75 H1 Tokens — Per-Lab Economies

**What is H1?**  
H1 is **not a single token.** Each lab deploys its own H1 token (LabVault shares) representing:
- Fractional ownership of that lab's treasury
- Claim on future dataset sale revenue
- Participation in that domain's ecosystem

**Example — Healthcare Lab after Year 1:**

```
Initial: $5M TVL, 1M H1 shares, $5.00/share
├─ Dataset revenue: $5M annually (50 datasets sold)
├─ Buyback budget deployed: $1.25M (25% of revenue)
├─ Lab revenue retained: $2.5M (50%)
├─ New TVL: ~$8.5M
├─ New NAV: $8.50/share (+70%)
└─ If buybacks reduce supply 5%: $8.88/share (+77.6% total)

Result: Early H1 holders gain from:
✓ Increasing NAV (more datasets sold)
✓ Supply reduction (buybacks)
✓ Sustainable token economy (real revenue, not inflation)
```

**Why H1 ≠ Traditional Stake-Reward Models:**

| Mechanic | H1 Labs | Competitors (Bittensor, Ocean) |
|----------|---------|--------|
| **Value Source** | Real dataset sales | Inflationary rewards |
| **Supply** | Decreases (buybacks) | Increases (new issuance) |
| **Price Pressure** | Buy pressure from revenue | Sell pressure from inflation |
| **Sustainability** | Revenue-driven (durable) | Reward-dependent (temporary) |

---

### 6.9 Bonding Curves — Automatic Deployment & Bootstrap Mechanics

**✨ NEW: Automatic Deployment on Lab Creation**

Every lab now gets a bonding curve automatically deployed at creation with **10% of initial H1 supply** pre-allocated for immediate trading:

```
Lab Creation Example (100K LABS staked):
├─ Total H1 Minted: 100,000 H1
├─ Bonding Curve Allocation: 10,000 H1 (10%)
├─ Initial Liquidity: Available immediately for trading
└─ Price: Starts at vault NAV × 1.005 (0.5% premium)
```

**Why Bonding Curves?**  
Auto-adjusting price pegged to vault NAV eliminates ICO-style pricing risks. The bonding curve:
- **Enables immediate trading** - No waiting for manual deployment
- **Provides price discovery** - Market finds fair value from day 1
- **Creates liquid market** - 10% supply available for buy/sell
- **Prevents manipulation** - Price tied to vault NAV, not speculation

**Formula:** `price_per_share = vault_NAV × 1.005`

**Initial Supply Breakdown:**
```
100,000 H1 Total Minted:
├─ 10,000 H1 (10%) → Bonding Curve (LIQUID)
│   └─ Available for immediate purchase
├─ 30,000 H1 (30%) → Lab Owner (VESTED, 6 months)
├─ 40,000 H1 (40%) → Scholar Reserve (VESTED)
├─ 15,000 H1 (15%) → Dev Reserve (VESTED)
└─ 5,000 H1 (5%) → Protocol Treasury (INSTANT)
```

**Fee Breakdown for Additional Purchases (Configurable)**  
When users buy MORE H1 beyond the initial 10% via bonding curve, the split is:
- **0-10% Protocol Fee**: Routed to treasury (configurable per lab, typically 5%)
- **0-10% POL Reserve**: Reserved for liquidity provisioning (configurable per lab, typically 5%)
- **Remainder (~80-90%)**: Deposited to vault at NAV, minting NEW H1 shares

**Trading Mechanics:**
1. **Initial 10% Supply**: First 10,000 H1 traded from pre-allocated supply
2. **After Initial Supply**: Bonding curve mints NEW H1 by depositing LABS to vault
3. **Price Increases**: As vault TVL grows, NAV increases, so does H1 price
4. **Slippage Protection**: minSharesOut parameter prevents frontrunning

**Redemption & Cooldown Mechanics**  
H1 shares purchased via bonding curve can be redeemed like any other H1:
- **Request Redemption**: Burn H1 shares, enter 7-day cooldown queue
- **Cooldown Period**: Default 7 days before $LABS can be claimed
- **Exit Caps**: Daily redemption limit (~20% of vault TVL per day) prevents sudden drains
- **Grace Period**: If redemptions exceed caps, system waits for next epoch or allows backfilling by new deposits

**Bonding Curve Advantages:**
✅ **Immediate Liquidity**: 10% supply tradeable from day 1  
✅ **Fair Pricing**: Tied to vault NAV, not arbitrary  
✅ **No Manual Setup**: Automatically deployed on lab creation  
✅ **Price Discovery**: Market determines fair value organically  
✅ **Anti-Manipulation**: NAV-based pricing prevents pumps/dumps

---

### 6.92 H1 Swap Fees — Staking & Unstaking Costs

**Fee Structure (Hardcoded Defaults + Admin-Configurable)**

When you **stake $LABS** (deposit to mint H1) or **unstake** (redeem H1 to get $LABS back), H1 Labs charges modest fees split between the lab owner and H1 protocol:

**Staking Fees (Deposits):**
```
User deposits: $1,000 LABS
├─ Lab Owner Fee: 1.5% = $15
├─ H1 Treasury Fee: 1% = $10
└─ Into Vault (Net): $975
   └─ H1 shares minted: ~975 at NAV
```

**Unstaking Fees (Redemptions):**
```
User redeems after 7-day cooldown: $1,000 LABS
├─ Lab Owner Fee: 1.5% = $15
├─ H1 Treasury Fee: 1% = $10
└─ User Receives (Net): $975
```

**Total Effective Cost:**
- **Per transaction**: 2.5% (1.5% + 1%)
- **For round-trip** (stake + unstake): ~4.9% (after rounding)
- **Comparable to**: Uniswap (0.3-1%), traditional brokerage fees (1-2%)

**Why These Fees?**

| Recipient | Allocation | Purpose |
|-----------|-----------|---------|
| **Lab Owner** | 1.5% | Incentivizes lab creation & management; funds operational costs |
| **H1 Treasury** | 1% | Protocol development, audits, infrastructure, and ecosystem grants |

**Configurability**

Labs can adjust fees (within limits) via admin function:
```solidity
setFees(
  depositLabOwnerBps,      // e.g., 150 (1.5%)
  depositTreasuryBps,      // e.g., 100 (1%)
  redemptionLabOwnerBps,   // e.g., 150 (1.5%)
  redemptionFeeTreasuryBps // e.g., 100 (1%)
)
```

**Examples:**
- Conservative labs: 1% + 0.5% = 1.5% total
- Growth labs: 2% + 1% = 3% total (maximum safe within best practices)
- Institutional labs: Custom per governance

---

### 6.91 Unstaking Flow — The Three Phases & Backfill Mechanism

**Why the Three-Phase Flow?**

Simple unstaking (deposit → immediate redemption) creates bank run risks. If 100% of stakeholders exit at once, the vault collapses and all benefits disappear. H1 uses a **three-phase redemption flow** with **grace periods** and **backfill mechanics** to:
- Prevent panic exits
- Preserve lab economics during exits
- Allow new stakers to provide liquidity to existing unstakers
- Protect long-term holders from sudden dilution

---

**Phase 1: Request Redemption (Immediate, but Queued)**

When you want to unstake:

```
Call: requestRedeem(h1_shares)

What Happens:
├─ Your H1 shares are burned immediately
├─ LABS amount calculated at current NAV
├─ Redemption request created with unique requestId
├─ unlockTime = current_time + 7 days (default cooldown)
├─ Assets marked as "pending exit" in vault accounting
└─ Exit cap checked: (if exit + others exceed cap, rejected)

You Receive:
└─ requestId to use for later claiming
```

**Key Point**: Your shares are gone immediately, but your LABS are **locked for 7 days**. This is not a delay—it's a **grace period** that protects the lab.

**Exit Cap Check** (Happens at Request Time):
```
Lab TVL: $1,000,000
Daily Exit Cap: 20% = $200,000/day (resets every 24 hours)

Day 1, Scenario:
├─ Alice requests: 50K LABS  → Approved (50K ≤ 200K)
├─ Bob requests: 100K LABS   → Approved (150K ≤ 200K)
├─ Carol requests: 60K LABS  → REJECTED (210K > 200K)
│                                 │
│                                 └─ Error: "epoch cap exceeded"
│                                    Must wait for tomorrow's epoch
└─ Carol can try again in 24 hours
```

---

**Phase 2: Grace Period / Cooldown (7 Days of Waiting)**

During the cooldown:

```
Timeline:

Day 0 (Request):     Your shares burned, LABS locked
Days 1-6 (Grace):    Waiting period... you CAN still:
                     ├─ Change your mind: Cancel redemption
                     │  └─ H1 shares re-minted at current NAV
                     └─ Check market: See if bonding curve is raising capital
Day 7 (Eligible):    Unlock time reached ✓
                     Now you can either:
                     ├─ Claim LABS (normal path)
                     └─ Get backfilled (automatic path)
```

**Why 7 Days?**
- Gives lab time to attract new capital via bonding curve
- Allows arbitrage: savvy stakers see redemptions → deposit via curve → backfill unstakers
- Prevents flash-loan attacks
- Smooths outflows over time

**What About Your Assets During Grace?**
- Your LABS are **held in vault** but marked as "pending exit"
- They **cannot be touched** by you or anyone
- The lab **cannot use them** for new investments
- They're "reserved" for you to claim

---

**Phase 3: Claim or Get Backfilled**

After 7 days, **two paths**:

#### **Path A: Normal Claim (You Get Your LABS Back)**

```
Call: claimRedeem(requestId)

What Happens:
├─ Cooldown check passed ✓
├─ Your LABS transferred to your wallet
├─ Redemption fee deducted (0.25-0.5% default)
├─ "Pending exit" cleared from vault
└─ NAV potentially updated (vault shrinks)

You Receive:
└─ LABS - fee back to wallet
```

**Example:**
- Requested: 100 H1 shares (= ~100 LABS at NAV $1.00)
- After 7 days, NAV = $1.10
- Claim value: 100 × $1.10 = $110 LABS
- Fee (0.5%): ~$0.55
- You get: ~$109.45 LABS

#### **Path B: Backfill (Someone Else Fills Your Order)**

This is where the **bonding curve connects to unstaking**:

```
Scenario:
├─ You requested redemption on Day 0
├─ On Day 3: New investor (Bob) deposits via bonding curve
│  ├─ Bob sends $LABS via BondingCurveSale
│  ├─ Gets H1 shares + small premium
│  ├─ Protocol fees/POL deducted
│  └─ Remainder goes to vault (grows TVL)
│
├─ Bob notices your pending redemption request
├─ Bob calls: fillRedeem(your_requestId)
│  ├─ Bob sends your_redeem_amount directly to you
│  ├─ You receive LABS immediately (no wait!)
│  ├─ Bob keeps his H1 shares
│  └─ Your redemption marked "claimed"
│
└─ Result: You get LABS before Day 7, Bob provides liquidity
```

**Code Level (What Happens)**:
```javascript
fillRedeem(requestId, receiver) {
  // Bob sends LABS directly to the original redeemer (you)
  transfer(labsToken, bob, you, assets);
  
  // Mark your redemption as fulfilled
  redeemRequests[requestId].claimed = true;
  
  // Remove from pending exit queue
  pendingExitAssets -= assets;
}
```

**Incentives for Backfilling:**
- Bob deposits at bonding curve price (NAV + 0.5% premium)
- Bob gets H1 shares to hold/trade
- Bob can immediately backfill pending redemptions
- If NAV appreciates, Bob's shares are worth more
- Bob's action helps other unstakers (social good)

---

**Putting It Together: Full Unstaking Timeline**

```
┌──────────────────────────────────────────────────────────────────┐
│ NORMAL UNSTAKING (No Backfill)                                   │
├──────────────────────────────────────────────────────────────────┤
│                                                                   │
│ Day 0:  Alice stakes 100K LABS                                   │
│         ├─ Gets 100K H1 shares (NAV = $1.00)                    │
│         └─ Labs TVL: $1,000,000                                  │
│                                                                   │
│ Month 6: Alice wants to exit                                     │
│          ├─ NAV now $1.25 (revenue accrued)                     │
│          ├─ H1 value: 100K × $1.25 = $125K                     │
│          └─ Calls: requestRedeem(100K)                          │
│             └─ Receives: requestId = #42                        │
│                LABS locked: $125K                                │
│                unlockTime: now + 7 days                          │
│                                                                   │
│ Days 1-6: Grace period (exit cap = 20% = $200K/day)             │
│           ├─ No exits hit cap today                              │
│           └─ Alice can cancel if she changes mind                │
│                                                                   │
│ Day 7:    Alice claims                                           │
│           ├─ Call: claimRedeem(42)                              │
│           ├─ Fee deducted: $125K × 0.5% = $625                 │
│           └─ Alice receives: ~$124,375 LABS ✓                  │
│                                                                   │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ BACKFILLED UNSTAKING (With New Capital)                          │
├──────────────────────────────────────────────────────────────────┤
│                                                                   │
│ Day 0:  Alice stakes 100K LABS                                   │
│         └─ Gets 100K H1 shares                                   │
│                                                                   │
│ Month 6: Alice requests redemption                               │
│          ├─ requestRedeem(100K)                                  │
│          ├─ LABS locked: $125K                                  │
│          └─ requestId: #42                                       │
│                                                                   │
│ Day 2:   Bob sees opportunity                                    │
│          ├─ Deposits $200K via bonding curve                    │
│          ├─ Curve price: $1.25 × 1.005 = $1.25625              │
│          ├─ Gets: ~159.2K H1 shares                             │
│          ├─ Fees/POL: $10K reserved                             │
│          └─ Remaining: $190K to vault                            │
│                                                                   │
│ Day 2, Later: Bob backsand liquidity by calling fillRedeem()    │
│          ├─ Notices Alice's pending redemption                   │
│          ├─ fillRedeem(requestId=42, receiver=bob)              │
│          │  └─ Bob sends $125K LABS directly to Alice          │
│          │     Alice receives funds IMMEDIATELY ✓                │
│          ├─ Alice's redemption marked claimed                    │
│          └─ Result:                                              │
│             ├─ Alice: Got LABS on Day 2 (5 days early!) ✓       │
│             ├─ Bob: Holds 159.2K H1 shares (his investment)     │
│             └─ Lab: Received new capital ($190K), TVL intact    │
│                                                                   │
└──────────────────────────────────────────────────────────────────┘
```

---

**What if No One Backfills? (Standard Path)**

Even without backfilling, redemptions still work:

```
├─ Exit cap throttles redemptions (20% per day)
├─ Cooldown ensures grace period for recovery
├─ After 7 days: Normal claim pathway available
└─ Result: Smooth, predictable exit timeline
```

---

**Exit Cap Resets**

```javascript
Epoch Duration: 24 hours (resets automatically)

Lab with $1M TVL:
├─ Hour 0-23 (Day 1): Max exit = $200K
│                      ├─ $150K exits approved
│                      └─ Remaining capacity: $50K
│
├─ Hour 24 (Day 2): EPOCH RESETS
│                    └─ Capacity resets to $200K
│                       (Even if Day 1 didn't use full cap)
│
└─ Sliding window prevents bank runs
```

---

**Cooldown Parameters (Configurable)**

Lab admins can adjust redemption parameters:

| Parameter | Default | Max | Purpose |
|-----------|---------|-----|---------|
| **Cooldown Period** | 7 days | 30 days | Grace period before claiming |
| **Exit Cap %** | 20% TVL/day | 100% TVL/day | Daily redemption limit |
| **Redemption Fee** | 0.5% | 1% | Incentivizes long-term holding |

Example: A mature lab with $10M TVL might set:
- Cooldown: 3 days (faster exits)
- Exit Cap: 25% ($2.5M/day)
- Fee: 0.25% (attracts large unstakers)

---

**Visual Summary: When Can You Exit?**

```
│ Status              │ Can Unstake? │ Can Claim? │ Can Cancel? │
├────────────────────┼──────────────┼───────────┼─────────────┤
│ Staked, Day 0      │ YES ✓        │ NO        │ N/A         │
│ Requested, Day 1-6 │ NO           │ NO        │ YES ✓       │
│ Requested, Day 7+  │ NO           │ YES ✓     │ NO          │
│ Claimed            │ N/A          │ N/A       │ N/A         │
│ Backfilled         │ N/A          │ YES (auto)│ NO          │
└────────────────────┴──────────────┴───────────┴─────────────┘
```

---

**Why This Design Prevents Disasters**

```
WITHOUT grace periods + exit caps:
  Day 1: $1M TVL, 1000 stakers each with 1000 H1
  Day 2: Market panic → Everyone unstakes
         └─ All 1000 call requestRedeem()
  Day 3: All 1000 claim → $1M drained to $0
         └─ Lab level collapses, TVL → 0
         └─ Validators lose income, buyers lose credibility
         └─ Lab is DEAD

WITH grace periods + exit caps + backfill:
  Day 1: $1M TVL
  Day 2: 50 call requestRedeem (limit: 20% = $200K)
         └─ Cap allows: 40 exits at $5K each
         └─ 10 requesters rejected, try tomorrow
  Day 3: Bonding curve attracts new capital
         └─ New stakers backfill yesterday's queue
         └─ TVL stable or growing
  Day 4-7: Remaining exits absorbed gradually
           └─ Lab continues operating normally
```

This is the **key difference** between fragile systems and robust ones.

---

## 7.5 Why Blockchain Matters for H1

Blockchain is not ornament — it is the enforcement layer for provenance, compliance, and fair economics:

| Challenge | Blockchain Benefit | H1 Implementation | Result |
|-----------|-------------------|-------------------|---------|
| **Data Provenance** | Immutable audit trail | ProvenanceFacet logs enrichment, validators, timestamps | Regulators can verify dataset lineage |
| **Validator Integrity** | Cryptographic proof of contribution | Credentials NFT + onchain records | Enterprise clients trust who validated data |
| **Compliance Enforcement** | Programmable legal constraints | ComplianceFacet binds HIPAA/GDPR/C2PA rules | AI firms know data is legally compliant |
| **Transparent Economics** | All payments recorded & verifiable | RevenueFacet splits logged per dataset sale | No opacity in revenue distribution |
| **Security & Trust** | Prevents tampering & fraud | Reentrancy guards, access control, audit logs | Protected against data theft & spoofing |

---

## 9.5 Use Case Scenarios

### **Use Case 1: Healthcare Startup Launches De-Identification Lab**

```
Month 1: $50K staking → Lab created → Level 1 (1 app slot)

Month 1-2: Bonding curve bootstrap
├─ 50 angels purchase H1-Healthcare shares
├─ Raise: $250K total
├─ Curve price: $1.005 → $2.50
└─ Reach Level 2

Month 3-6: Revenue acceleration
├─ 10K patient records de-identified via Scrubber
├─ Sold to AI company: $100K
├─ Revenue split: $50K lab owner, $25K treasury, $25K buyback
├─ 500 validator clinicians earn: $100 each in H1
└─ H1 price appreciates to $2.75

Year 1 Outcome:
├─ 50 datasets sold ($5M revenue)
├─ TVL grows: $5M → $8.5M
├─ H1-Healthcare: $1.00 → $8.88/share (+788%)
├─ Early validator earning: $100 → $888
└─ Scrubber becomes industry standard for HIPAA compliance
```

### **Use Case 2: Robotics Consortium Validates Safety Data**

```
Week 1: $100K staking, 1,000 motion videos collected

Week 2-4: Validation with ISO-26262 experts
├─ SafetyFacet compliance enforcement
├─ Reach Level 2 ($250K capital)
└─ ProvenanceFacet records all validators/approvals

Month 2-3: Monetization
├─ OEM purchases dataset: $50K
├─ 100 validators earn: $250 each in H1
├─ Lab owner gains directional equity
└─ Dataset becomes certified standard

6-Month Outlook:
├─ 100 robotics companies subscribe
├─ $500K recurring revenue
├─ H1 holders gain 400%+ returns
└─ Protocol treasury funds industry audits
```

### **Use Case 3: Creative Studio Tokenizes Art Assets**

```
Week 1-3: 5,000 game assets collected, validated by senior artists

Month 2: License to AI development studio
├─ License fee: $25K
├─ Revenue split: $12.5K studio, $6.25K protocol, $6.25K buyback
├─ 50 artists earn: $125 each in H1-ArtForge
└─ C2PA provenance ensures legal compliance

Ongoing:
├─ Every game using dataset generates proper attribution
├─ Artists earn recurring royalties (transparent splits)
├─ Studios get legal provenance for AI training
└─ H1 holders benefit from recurring licensing revenue
```

---

## 10. Economic Flywheel

The H1 economy is designed as a **closed loop** that continuously strengthens as adoption increases:

### **Macro Flywheel: Platform Level**

```
Lab Creation Phase
├─ Founder deposits $LABS → creates Lab with LabVault (H1 token)
├─ Founder receives initial H1 shares (100% if sole depositor)
└─ Lab reaches Level 1 when TVL ≥ $100K

Community Growth Phase
├─ Others deposit $LABS into vault at current NAV
├─ They receive H1 shares, ownership dilutes proportionally
└─ Lab reaches Level 2/L3 as capital accumulates ($250K/$500K+)

Dataset Monetization Phase
├─ App generates dataset, validators enrich/validate
├─ Dataset sells to AI company (e.g., $100K)
└─ Revenue triggers proportional distribution

Distribution Phase
├─ Lab Owner + Validators: $50K (50% of sale)
│  └─ Split proportionally by contribution score
│  └─ Paid in lab-native H1 tokens → increases vault assets
├─ Protocol Treasury: $25K (25% of sale)
│  └─ Held for grants, protocol ops, infrastructure
└─ Buyback Reserve: $25K (25% of sale)
   └─ Retained for future supply reduction

Token Appreciation Phase
├─ Lab's TVL grows: $100K → $150K (from $50K lab revenue)
├─ H1 NAV increases: more assets backing each share
├─ Buyback execution: $25K used to repurchase H1
├─ H1 supply decreases → scarcity increases value
└─ Early H1 holders gain from:
   ├─ NAV appreciation (dataset sale revenue)
   ├─ Supply reduction (buybacks)
   └─ Compounding effect (higher NAV × lower supply)

Flywheel Acceleration
├─ H1 tokens now worth more → attracts new founders
├─ New labs created with $LABS → platform activity increases
├─ More validators → higher quality data → higher sale prices
└─ Cycle repeats at larger scale with higher velocity
```

### **Micro Flywheel: Healthcare Lab Year 1 (Detailed Example)**

```
MONTH 1: Lab Creation & Initial Staking

Day 1: Founder creates Health-Lab
├─ Founder deposits: $50,000 $LABS
├─ Founder receives: 50,000 H1 shares (100% ownership)
├─ Lab assets: $50,000
├─ H1 NAV: $50K / 50K shares = $1.00/share
├─ Founder's stake value: $50,000
└─ Level: L0 (below $100K threshold)


MONTH 1-2: Community Growth via Deposits

Day 15: Validator 1 deposits $25K
├─ Receives: 25,000 H1 shares at $1.00/share
├─ Lab assets: $75,000
├─ Total H1 supply: 75,000 shares
├─ Founder's ownership: 50,000 / 75,000 = 66.7% (-33.3% dilution)
├─ Validator 1's ownership: 25,000 / 75,000 = 33.3%
├─ Founder's new value: 50K shares × $1.00 = $50K (same nominal, ownership diluted)
└─ NAV: still $1.00/share (no profit yet)

Day 25: Early Investors via Bonding Curve
├─ Raise target: $125K additional
├─ Curve price: $1.005/share (0.5% premium to NAV)
├─ Fee/POL: $12.5K allocated (10% of raise)
├─ Net to vault: $112.5K
├─ Lab assets: $75K + $112.5K = $187.5K
├─ Total H1 supply: 75K + 112.5K = 187.5K shares
├─ Founder's ownership: 50K / 187.5K = 26.7% (-40% from original 100%)
├─ Founder's value: 50K × ($187.5K / 187.5K) = 50K shares × $1.00 = $50K
│  (Still $50K nominal value, but only 26.7% of lab)
└─ Level: L1 reached ($187.5K ≥ $100K → 1 app slot unlocked)


MONTHS 3-6: Dataset Revenue Phase

Month 3: First Dataset Sale
├─ Dataset sold: $50,000
├─ Revenue split:
│  ├─ Lab Owner/Validators: $25K (50%)
│  │  └─ Split among validators by contribution score (500 validators)
│  ├─ Protocol Treasury: $12.5K (25%)
│  └─ Buyback Reserve: $12.5K (25%)
├─ Lab assets now: $187.5K + $25K = $212.5K
├─ H1 NAV now: $212.5K / 187.5K = $1.133/share (+13.3% appreciation)
├─ Founder's value: 50K shares × $1.133 = $56,650 (+$6,650 gain)
└─ Validator 1's value: 25K shares × $1.133 = $28,325 (+$3,325 gain)

Month 4: Buyback Execution (optional, protocol-controlled)
├─ Buyback budget: $12.5K accumulated
├─ Market price of H1: ~$1.10/share
├─ H1 repurchased: $12.5K / $1.10 = 11,364 shares burned
├─ New H1 supply: 187.5K - 11.364K = 176.136K shares
├─ Lab assets: still $212.5K (unchanged)
├─ New NAV: $212.5K / 176.136K = $1.206/share (+6.4% from previous)
├─ Founder's new value: 50K × $1.206 = $60,300 (+$7,300 total)
│  (Gain comes from: $6,650 NAV growth + $1,650 buyback scarcity)
└─ Validator 1's new value: 25K × $1.206 = $30,150 (+$3,650 total)

Month 5: Second Dataset Sale
├─ Dataset sold: $75,000 (higher value, more validators)
├─ Revenue split:
│  ├─ Lab Owner/Validators: $37.5K (50%)
│  │  └─ Split among validators by contribution score (500 validators)
│  ├─ Protocol Treasury: $18.75K (25%)
│  └─ Buyback Reserve: $18.75K (25%)
├─ Lab assets: $212.5K + $37.5K = $250K
├─ NAV: $250K / 176.136K = $1.420/share (+17.7% appreciation)
├─ Founder's value: 50K × $1.420 = $71,000 (+$10,700 from Month 4)
└─ Validator 1's value: 25K × $1.420 = $35,500 (+$5,350 from Month 4)

Month 6: Buyback Round 2
├─ Cumulative buyback budget: $12.5K (Month 3) + $18.75K (Month 5) = $31.25K
├─ Market price: ~$1.35/share
├─ H1 repurchased: $31.25K / $1.35 = 23,148 shares
├─ New supply: 176.136K - 23.148K = 152.988K shares
├─ NAV: $250K / 152.988K = $1.634/share (+15% scarcity gain)
├─ Founder's value: 50K × $1.634 = $81,700 (+$10,700 from Month 5)
└─ Validator 1's value: 25K × $1.634 = $40,850 (+$5,350 from Month 5)


YEAR 1 SUMMARY: Compounding Effects

Cumulative Performance:
├─ Founder's investment: $50K initial
├─ Founder's value after Year 1: $81,700
├─ Total gain: +$31,700 (+63.4% ROI)
├─ Breakdown:
│  ├─ NAV appreciation: From $1.00 → $1.634 per share = +63.4%
│  ├─ Ownership dilution: 100% → 32.7% of lab
│  └─ Counterbalance: Buybacks reduce supply, offsetting dilution
│
├─ Validator 1's investment: $25K (Month 1)
├─ Validator 1's value after Year 1: $40,850
├─ Total gain: +$15,850 (+63.4% ROI, same rate as founder)
└─ Proportional rewards apply to all stakeholders

H1-Healthcare Lab Status (End of Year 1):
├─ Total TVL: $250K
├─ H1 NAV: $1.634/share
├─ H1 Supply: 152,988 shares (reduced from 187,500, 18.4% buyback)
├─ Revenue generated: $125K+ (3 datasets sold)
├─ Level: L2 reached ($250K ≥ $250K → 2 app slots unlocked)
├─ Next milestone: $500K TVL → L3 (3 app slots)
└─ Platform metrics:
   ├─ Validators participating: 500+
   ├─ Apps deployed: 2 active
   └─ Compliance: HIPAA auditable, verified data
```

### **Key Mechanics at Work**

1. **Ownership is Fractional**: H1 shares represent % ownership of lab treasury; dilutes with new deposits
2. **Revenue Drives NAV**: Lab revenue ($50%+) flows to vault → increases backing → increases NAV for all
3. **Buyback Creates Scarcity**: Reserve ($25K per sale) repurchases H1 → reduces supply → increases price
4. **Compounding Growth**: NAV ↑ + Supply ↓ = exponential appreciation (63.4% Year 1 shown above)
5. **Sustainability Loop**: Real dataset sales → real revenue → real token appreciation (no inflation)

---

## 11. Competitive Positioning — H1 vs The Field

H1 Labs uniquely combines **verified human intelligence, provenance, and compliance**. Unlike peers that focus on compute (Gensyn), model training (Bittensor), or data liquidity (Ocean), H1 targets regulated and semi-regulated markets with enterprise-grade trust.

| Dimension | H1 Labs | Bittensor | Scale AI | Ocean | Gensyn |
|-----------|---------|------------|----------|--------|---------|
| **Focus** | Human-validated datasets | Model training | Centralized data | Data liquidity | Compute network |
| **Compliance** | HIPAA, GDPR, C2PA, EU AI Act | None | Corporate | Optional | None |
| **Credentialing** | Verified NFTs + KYC | None | Manual | None | None |
| **Provenance** | Full onchain audit trail | None | Internal | Metadata only | None |
| **Revenue Model** | Onchain splits + buybacks | Inflationary | Fiat only | Stake-reward | Stake-reward |
| **Target Market** | Healthcare, Legal, Defense, Finance | General AI | Enterprise labeling | General data | ML infrastructure |
| **Value Driver** | Real dataset sales | Token inflation | Labor cost | Access licensing | Compute capacity |

**Why it matters:** H1's compliance-first approach opens regulated markets (healthcare TAM ~$200B+ in data licensing) that competitors cannot access. Programmable compliance means SDKs launch in regulated sectors without custom legal wrangling.

---

## 12. Technical Features (Selected)

- **Reentrancy Guards:** Shared via `LibH1Storage.reentrancyStatus` where needed (e.g., `RevenueFacet`).  
- **Upgradeable by Facet:** New domains or policy changes can be added without migrating state.  
- **Guardian Controls:** Cooldowns, daily exit caps, and pause mechanisms at the vault level.  
- **Security & Introspection:** Standard Diamond Loupe, Ownership, Security facets.
- **Price Bounds Protection:** Bonding curve prevents price manipulation via MIN/MAX bounds and 50% max change per tx.
- **Pause Mechanism:** Emergency admin controls for security incidents.

---

## 13. Developer SDK (At a Glance)

- **Dual‑Intelligence Orchestration (Agent + Human)**: Built‑in co‑workflow primitives (assignment, handoff, review), human sign‑off, and audit trails.  
- **Identity & Credential**: Integrate credential checks for validators.  
- **Compliance**: Bind HIPAA/GDPR/AEH/C2PA policies per dataset/lab for regulated and semi‑regulated markets.  
- **Provenance Hooks**: Record enrichment/validation events onchain.  
- **Revenue & Splits**: Simple APIs aligned with `RevenueFacet`.  
- **Credit Mode**: Fiat‑friendly abstraction that still settles onchain.

### Dual‑Intelligence Dataflow (Δ‑Gain → Bundles → Buybacks)
1) App selects a base model (partner or BYO) via SDK adapters.  
2) Agent executes; credentialed human reviews and signs.  
3) SDK computes **Δ‑Gain** (supervised improvement vs declared base) and records provenance + attribution.  
4) H1 aggregates Δ‑Gain into dataset bundles and sells/licenses them.  
5) Revenue triggers buybacks that route to the originating Labs per policy, creating buy pressure for their H1 tokens.

---

## 14. Tokenomics (Lite)

### Roles
- **$LABS holders**: Stake, govern, seed labs, and participate in platform‑level value.  
- **H1 holders (per lab)**: Hold fractional shares of a lab's backing and exposure to its dataset economy.  

### 🎯 MAJOR IMPROVEMENT: Automatic H1 Distribution & Simplified Staking

✨ **What's New:**
- ✅ **One-Click Lab Creation**: Stake 100K+ LABS, instant vault + bonding curve deployment
- ✅ **Automatic H1 Distribution**: Zero manual setup needed; H1 tokens distributed immediately across owner, scholars, devs, and treasury
- ✅ **Simplified Staking**: Single batch transaction (EIP-5792 `wallet_sendCalls`) combines approve + stake in one wallet confirmation
- ✅ **Correct Level-Based Consumption**: Contract now uses only the exact LABS needed per lab level (100K L1, 250K L2, 500K L3) — no overspending
- ✅ **Bonding Curve Live Day 1**: 10% of H1 supply tradeable immediately from lab creation

**Impact**: 50% reduction in friction for creators and stakers; correct token accounting; sustainable growth mechanics.

### ✨ NEW: Automatic H1 Distribution on Lab Creation

When a lab is created, H1 tokens are automatically minted (1:1 with staked LABS, max 500K) and distributed:

| Recipient | Allocation | Vesting | Purpose |
|-----------|-----------|---------|---------|
| **Lab Owner** | **30%** | 6 months, weekly unlocks | Incentive for lab creation & management |
| **Bonding Curve** | **10%** | Liquid immediately | Trading liquidity, price discovery |
| **Scholar Reserve** | **40%** | Paid as work completes | Rewards for data validators |
| **Dev Reserve** | **15%** | Paid as work completes | Rewards for developers |
| **Protocol Treasury** | **5%** | Instant | Protocol operations & grants |
| **TOTAL** | **100%** | - | Complete allocation at creation |

### Flows
```
Stake 100K+ LABS → Create Lab → Automatic:
  ├─ Deploy LabVault (H1 token)
  ├─ Deploy Bonding Curve (trading)
  ├─ Mint 100K-500K H1 (1:1 with LABS)
  └─ Distribute: 30% owner + 10% curve + 40% scholars + 15% devs + 5% treasury
  
After Creation:
  ├─ Week 1+: Owner claims vested H1 (weekly unlocks)
  ├─ Day 1: Community trades H1 on bonding curve
  ├─ Ongoing: Scholars/Devs receive H1 as work completes
  └─ Revenue: Dataset sales → RevenueFacet Split → Buyback + NAV growth
```

### Vesting Details

**Lab Owner (30%):**
- **Duration**: 26 weeks (6 months)
- **Frequency**: Weekly linear unlocks
- **Cliff**: 1 week (first unlock after 7 days)
- **Example**: 30,000 H1 allocated → ~1,154 H1 claimable per week

**Scholars & Devs (55% combined):**
- **Duration**: No time lock (instant when earned)
- **Payment**: Triggered by completed tasks
- **Custody**: Held in LabVault until distribution
- **Example**: Validate 10 datasets → Receive proportional H1 from reserve

**Protocol Treasury (5%):**
- **Duration**: Instant
- **Purpose**: Protocol operations, audits, grants
- **Custody**: Held in H1Diamond treasury address

### Key Changes from Previous Model
- ❌ **OLD**: Manual bonding curve deployment, no initial H1 distribution
- ✅ **NEW**: Automatic everything, owner receives 30% H1 (vested)
- ❌ **OLD**: All H1 from deposits (dilutive for creator)
- ✅ **NEW**: Fixed initial supply (non-dilutive for first 6 months)

Notes (current state):  
- Revenue is accepted as ETH and split immediately; buybacks are not automated yet (treasury event stubs exist).  
- Lab creation requires minimum 100K LABS staked; H1 minted 1:1 with LABS at creation only.
- After initial distribution, additional H1 can only be minted via bonding curve purchases (deposits LABS to vault).

---

## 15. Use Cases (Initial)

- **Healthcare**: Scrubber (de‑identification), Second Opinion+ (AI‑human consultation), Imaging annotation.  
- **Creative & Gaming**: Provenance frameworks for art and game assets (C2PA‑aligned), attribution and licensing onchain.  
- **Robotics & Industrial**: Motion/vision datasets with validated safety metadata.
- **Legal & Financial**: Compliance-verified datasets (GDPR, AML/KYC aligned).
- **Education & Research**: FERPA-compliant educational datasets with attribution.

---

## 16. Roadmap (Condensed)

| Phase | Milestone | Highlights |
|------|-----------|------------|
| Prototype | Testnet diamond + UI demo | LABS set, createLab, auto‑vault, deposits/redemptions |
| MVP | Provenance + Revenue flows | Credential gating, RevenueFacet splits, initial SDK hooks |
| Post‑MVP | Governance + Credits | DAO/Compliance upgrades, Credit mode, explorer & analytics |

---

## 17. Risks & Mitigations (Brief)

- **Regulatory**: Programmable compliance facets; credential gating; audit logs.  
- **Liquidity**: POL/treasury custody and buyback budget design; exit caps and cooldowns.  
- **Security**: Standard diamond controls, guards, and progressive audits.
- **Adoption**: Validator network effects + partnership incentives; credentialing portal lowers barriers.

---

## 17.5 H1 Token Mechanics — Frequently Asked Questions

### **H1 Token Supply & Creation**

**Q: How many H1 tokens are issued when a lab is created?**  
A: H1 tokens are minted on a 1:1 basis against $LABS deposits at the current Net Asset Value (NAV):
```
Scenario 1 (Lab Created):
├─ Founder deposits: $100,000 LABS
├─ Vault assets: $100,000
├─ H1 supply: 100,000 shares (1:1 at NAV $1.00)
├─ Founder's ownership: 100% (100K / 100K)
└─ Each share backed by: $1.00 LABS

Scenario 2 (Community Joins):
├─ New depositor adds: $50,000 LABS
├─ Vault assets: $150,000
├─ H1 supply: 150,000 shares
├─ Original depositor's ownership: 66.7% (100K / 150K)
├─ New depositor's ownership: 33.3% (50K / 150K)
└─ Each share now backed by: $1.00 LABS (unchanged NAV)
```

**Q: Is there a maximum H1 supply per lab?**  
A: No hard cap. H1 supply is capped only by the total $LABS in existence. In practice, each lab's H1 supply grows with deposits and shrinks with redemptions and buybacks. Supply is always backed by vault assets (never inflated).

**Q: How does the NAV (Net Asset Value) change?**  
A: NAV = Total Vault Assets / Total H1 Shares Outstanding

NAV increases when:
- Dataset revenue flows into the vault (50% of sales)
- Validator rewards accrue to vault

NAV stays same when:
- New deposits arrive (new shares minted equal to deposit amount)
- New H1 holders join

NAV increases further when:
- Buybacks execute (H1 supply decreases, same assets back fewer shares)

### **Buying, Selling, and Trading H1**

**Q: How much does it cost to buy H1 tokens?**  
A: Three pricing models:

1. **Direct Vault Deposit**: Cost = NAV + deposit fee (0.75% default)
   ```
   You send: $10,000 LABS
   Fee: 75 LABS (0.75%)
   You receive: ~9,900 H1 shares at $1.00/share NAV
   Net cost: 0.75% premium
   ```

2. **Bonding Curve** (bootstrap phase): Cost = NAV × 1.005 + protocol fee
   ```
   You send: $10,000 LABS
   Curve price: NAV × 1.005 = $1.005/share
   Protocol fee: 1-2% deducted
   POL reserve: 5-10% reserved
   You receive: ~8,000-8,500 H1 shares
   Net cost: ~2% premium (0.5% curve + 1.5% fee)
   ```

3. **Secondary Market** (after launch): Cost = Market price
   ```
   You send: $10,000 in ETH or other tokens
   Price: Set by market (often trades at NAV ± sentiment)
   Trading fee: ~0.3% (DEX-dependent)
   You receive: H1 shares at market price
   Net cost: Variable (can be discount or premium to NAV)
   ```

**Q: Can I trade H1 tokens between labs?**  
A: Yes. Each lab's H1 is a separate ERC-20 token. You can:
- Sell H1-Healthcare for stablecoins
- Use stablecoins to buy H1-Robotics
- Or swap directly H1-Healthcare ↔ H1-Robotics on DEX

This enables portfolio rebalancing and tactical rotation.

**Q: What are the fees when I unstake/redeem H1?**  
A: Two phases:

1. **Redemption Request**: Costs nothing
   ```
   You burn: 50,000 H1 shares
   Fee: None at request time
   Status: Locked for 7 days (cooldown)
   ```

2. **Redemption Claim** (after 7 days): Redemption fee applied
   ```
   You receive: (shares × NAV) - redemption fee
   Redemption fee: 0.375% default (can be adjusted by admin)
   Example: 50K shares × $1.00 = $50,000
            Minus fee (0.375%): $187.50
            You get: $49,812.50
   Subject to: Daily exit caps (20% of TVL per day)
   ```

### **Ownership & Governance**

**Q: Can one person own all H1 tokens in a lab?**  
A: Yes, initially. If you're the sole depositor, you own 100% of that lab's H1. As others join:
- Your H1 ownership dilutes
- Your H1 value per share remains unchanged (if NAV stable)
- Your % ownership decreases, but your absolute value stays same

Example:
```
Time 0: You deposit $100K → 100% ownership
Time 1: Others deposit $100K → You own 50%
        But your H1 value: still $100K (50% × $200K vault)
Time 2: Lab generates revenue → Vault grows
        Your H1 value: $100K × (NAV appreciation + buyback gains)
```

**Q: Is there a maximum amount of H1 one person can hold?**  
A: No. A single depositor could theoretically own 100% of a lab's H1 if they're the only staker. Ownership is purely proportional to shares held.

**Q: Does H1 ownership confer governance rights?**  
A: Currently: No. H1 is purely a claim on revenue and vault assets.  
Future: If protocol upgrades to governance, H1 holders may receive voting rights proportional to their shares.

### **Revenue & Yield Mechanics**

**Q: How do I earn returns on H1?**  
A: Passively, through three mechanisms:

1. **NAV Appreciation** (50% of dataset revenue)
   ```
   Lab generates $100K dataset sale
   $50K flows to vault → increases assets
   Your claim: (your %) × $50K
   Happens automatically; you hold and gain value
   ```

2. **Buyback Scarcity** (25% of dataset revenue)
   ```
   $25K allocated for H1 buybacks
   Protocol repurchases H1 at market price
   Reduces total supply → your % ownership increases
   NAV multiplies by scarcity effect (no action needed)
   ```

3. **Compounding** (NAV growth × scarcity)
   ```
   Month 1: 1 dataset sale → NAV $1.00 → $1.05 (+5%)
   Month 2: 1 dataset sale → NAV $1.05 → $1.10 (+4.8%, on higher base)
   Month 3: Same revenue, higher NAV → +4.8% on new base
   Over time: Exponential growth (50% + 25% = 75% revenue boost compounds)
   ```

**Q: What's a realistic APY for H1 holders?**  
A: Depends on lab and phase:

| Phase | Revenue Condition | Realistic APY | Driver |
|-------|-------------------|---------------|--------|
| **Year 1** | Early + subsidies | 50-200% | Subsidies + early revenue |
| **Year 1-2** | Revenue ramping | 80-150% | Dataset sales + buybacks |
| **Year 2+** | Sustainable | 50-100% | Real revenue (sustainable long-term) |

These are NOT guaranteed. Labs that fail to generate revenue will have 0% APY.

### **Risk & Downside Protection**

**Q: What's my downside if a lab fails?**  
A: Your maximum loss is limited to your initial deposit:
```
You deposit: $50,000 LABS
Worst case: Lab never generates revenue
Your H1 value: Stays at $50,000 (NAV = assets / shares)
You can redeem: $50,000 LABS back (after cooldown)
Your loss: Fees only (~0.375% redemption fee = $187.50)
```

H1 is backed by real assets (your deposited $LABS), so it cannot go below NAV.

**Q: Can H1 go to zero?**  
A: No. H1 is always backed by vault assets. Minimum value = NAV of remaining assets.

**Q: What happens if protocol gets hacked?**  
A: Vault assets are protected by:
- Reentrancy guards (prevents double-spending attacks)
- Access controls (only admin can withdraw for valid reasons)
- Audit-standard safety practices
- Insurance considerations (future, if adopted)

Your $LABS stay in the vault. Worst case: temporary freeze, not permanent loss.

### **Liquidity & Exit**

**Q: Can I exit quickly if I need my money?**  
A: With delays:
```
Time 0: You request redemption
Time 0-7: Cooldown period (can cancel during this time)
Time 7+: You claim redemption (subject to daily exit caps)
Time 10-14: Likely full redemption complete (if within daily cap)
Total timeline: 7-14 days typically
```

To exit faster: Sell H1 on secondary market (instant, but at market price, not NAV).

**Q: What are exit caps?**  
A: Daily redemption limit to prevent bank runs:
```
Lab vault TVL: $500,000
Daily exit cap: 20% of TVL = $100,000/day
If you want to redeem: $50,000
Status: Approved (within cap)

If many people redeem: $100,000/day max
Your redemption: Queued until next day if exceeds cap
```

Prevents cascading failures; ensures vault stability.

**Q: Can I swap H1 for stablecoins instantly?**  
A: Yes, on secondary market:
```
You hold: 50,000 H1-Healthcare
You trade: H1 → USDC on Uniswap (instant)
You get: ~50,000 × current H1 price in USDC
You send: USDC → ETH or bank (DEX-dependent)
Total time: 5-15 minutes (no cooldown)
```

But vault redemption path (cooler but cheaper fees) takes 7+ days.

### **H1 vs $LABS**

**Q: Should I buy $LABS or H1?**  
A: Different risk/reward:

| Factor | $LABS | H1 |
|--------|-------|-----|
| **Yield** | None (no inflation) | Yes (real revenue) |
| **Risk** | Platform-level | Lab-specific |
| **Upside** | Demand + scarcity | Revenue compounding |
| **Best for** | Long-term hold | Active investors |
| **Downside** | Adoption fails | Lab doesn't execute |

Typical allocation: 30% $LABS (platform hedge) + 70% H1 (yield focus).

**Q: Is H1 leveraged $LABS?**  
A: No leverage. H1 can outgrow $LABS because:
- H1 = real revenue yield (sustainable)
- $LABS = scarcity only (no yield)
- H1 compounds (NAV + buyback effects)
- $LABS appreciates slower (demand-driven)

Think: H1 = equity in specific lab; $LABS = platform governance token.

---

## 17. Dataset Marketplace: Buying & Revenue Distribution

> **For AI Companies & Data Buyers**: The Dataset Marketplace enables enterprise and AI firms to discover, evaluate, and purchase verified datasets with transparent, on-chain revenue distribution.

### **The Marketplace Experience**

**Browse Verified Datasets:**
- Filter by domain (Healthcare, Finance, Legal, Robotics, Art)
- Sort by quality score, delta-gain, price, or availability
- Search by dataset name, creator, or compliance standard
- View full provenance: creator, supervisor, regulatory approvals

**Evaluate Before Buying:**
```
Each dataset displays:
├─ Quality Score (80-99%)
├─ Delta-Gain vs. GPT-4 baseline (e.g., +8.24%)
├─ Creator Name & Credential ID
├─ Supervisor Name & Credential ID
├─ Compliance Standards (HIPAA, GDPR, FDA, C2PA, etc.)
├─ Data Points (10K, 50K, 100K+)
├─ Revenue History (transparent pricing)
└─ On-Chain Provenance (IPFS hash, creator address, supervisor address)
```

**Bulk Purchase & Batch Discount:**
```
1 dataset:    Full price (e.g., $2,500)
2 datasets:   Full price
3+ datasets:  5% bulk discount applies automatically
Example:      3 × $2,500 = $7,500 → 5% off = $7,125 total
```

**Pay with Multiple Assets:**
- **ETH** (primary, recommended)
- **USDC / USDT** (stablecoins)
- **$LABS** (protocol token at current rate)

### **Revenue Distribution Model: Per-Dataset, Per-Lab**

When a dataset is purchased, the revenue is distributed **per-dataset to that specific dataset's lab owner** according to the following model:

```
Purchase Price: $X
Distribution:

├─ Lab Owners:        50% ($0.50X)        → Direct to lab owner's wallet
├─ Data Creators:      40% ($0.40X)        → Treasury (for later distribution to creators)
├─ Supervisors:        10% ($0.10X)        → Treasury (for later distribution to supervisors)
├─ Buyback Reserve:    20% ($0.20X)        → Treasury (to repurchase H1 tokens)
└─ H1 Protocol Fee:     5% ($0.05X)        → Treasury (operational costs)
                       ─────────────
Total:                 125% ($1.25X)*

* Note: The percentages represent allocation of revenue where creators/supervisors/buyback/H1 
  are tracked in the protocol treasury for distribution. Lab owners receive 50% directly.
```

### **Example: $10,000 Dataset Purchase**

```
DATASET: "Medical Imaging Annotations"
Creator: Cleveland Clinic (Lab ID: 1)
Supervisor: ACR Standards Board
Purchase Price: $10,000

Revenue Breakdown:
├─ Cleveland Clinic (Lab Owner, 50%):    $5,000 ✓ Sent immediately
├─ Data Creators (40%):                  $4,000 → Treasury
├─ Supervisors (10%):                    $1,000 → Treasury
├─ Buyback Reserve (20%):                $2,000 → Treasury
└─ H1 Protocol Fee (5%):                   $500 → Treasury

Lab Vault Impact:
├─ Lab's H1 shareholders gain:           50% NAV appreciation ($5,000)
├─ Buyback pressure:                     $2,000 in H1 buyback capacity
├─ Protocol revenue:                     $500
└─ Creator/Supervisor future payouts:    $5,000 reserved
```

### **Per-Dataset, Per-Lab Mechanics**

**Key Principle:** Each dataset is linked to exactly one lab. Revenue flows to that lab's owner and vault.

```
Dataset ID    Lab ID    Lab Owner              Purchase Price    Lab Receives
─────────────────────────────────────────────────────────────────────────────
ds_001        1         Cleveland Clinic       $4,500           $2,250 (50%)
ds_002        2         Mayo Cardiology        $3,500           $1,750 (50%)
ds_003        1         Cleveland Clinic       $2,000           $1,000 (50%)
              
Lab 1 Total Revenue: $3,250 (from 2 datasets)
Lab 2 Total Revenue: $1,750 (from 1 dataset)
```

**Why Per-Lab?**
- Each lab has its own economics and staking pool
- Datasets are created within a specific domain lab
- Lab owners directly benefit from their own datasets being purchased
- Incentivizes labs to produce high-quality, marketable datasets

### **Bulk Purchase Example: 3 Datasets**

```
BUYER: Acme AI (purchases for $12,000 before discount)
DATASETS:
  1. Cardiovascular Records ($4,500) from Lab 1
  2. Legal Document Corpus ($3,500) from Lab 3  
  3. Robotics Motion Data ($2,000) from Lab 4

Step 1: Bulk Discount Applied
Total: $12,000 → 5% off → $11,400 final price

Step 2: Single On-Chain Transaction
Revenue Distribution (per-dataset, per-lab):

Dataset 1 ($4,500 to Lab 1):
├─ Lab 1 Owner:       $2,250
├─ Creators:          $1,800 → Treasury
├─ Supervisors:         $450 → Treasury
├─ Buyback:             $900 → Treasury
└─ H1 Fee:             $225 → Treasury

Dataset 2 ($3,500 to Lab 3):
├─ Lab 3 Owner:       $1,750
├─ Creators:          $1,400 → Treasury
├─ Supervisors:         $350 → Treasury
├─ Buyback:             $700 → Treasury
└─ H1 Fee:             $175 → Treasury

Dataset 3 ($2,000 to Lab 4):
├─ Lab 4 Owner:       $1,000
├─ Creators:            $800 → Treasury
├─ Supervisors:         $200 → Treasury
├─ Buyback:             $400 → Treasury
└─ H1 Fee:             $100 → Treasury

Bulk Discount Applied:
├─ Total before discount: $12,000
├─ 5% bulk savings:        -$600
├─ Final amount sent:    $11,400
└─ Savings distributed proportionally to each dataset

Step 3: Automatic H1 Impact

Lab 1 Shareholders:
├─ Gain: 50% revenue ($2,250) added to vault → NAV appreciation
├─ Benefit: Buyback capacity (+$900)
└─ Effect: H1-Healthcare shares increase in value

Lab 3 Shareholders:
├─ Gain: 50% revenue ($1,750) added to vault → NAV appreciation
├─ Benefit: Buyback capacity (+$700)
└─ Effect: H1-Legal shares increase in value

Lab 4 Shareholders:
├─ Gain: 50% revenue ($1,000) added to vault → NAV appreciation
├─ Benefit: Buyback capacity (+$400)
└─ Effect: H1-Robotics shares increase in value

Treasury (Protocol):
├─ Creator payouts reserved: $5,000
├─ Supervisor payouts reserved: $1,000
├─ Buyback execution capacity: $2,000
└─ Protocol operations: $500
```

### **Transparency & On-Chain Verification**

Every dataset purchase emits events that can be verified on the blockchain:

```solidity
event RevenueDistributed(
  uint256 indexed datasetId,
  uint256 indexed labId,
  uint256 labOwnerAmount,
  uint256 creatorAmount,
  uint256 supervisorAmount,
  uint256 buybackAmount,
  uint256 h1FeeAmount
)
```

**Users can verify:**
✓ Transaction hash on Etherscan  
✓ Lab owner address received correct amount  
✓ Exact breakdown of all payments  
✓ Link to dataset provenance (IPFS hash)  
✓ Creator and supervisor credentials on-chain  

### **From Purchase to Payout Timeline**

```
Day 0: User purchases $10,000 dataset
├─ Lab owner receives: $5,000 immediately
└─ Treasury receives: $5,000 (creators/supervisors/buyback/fees)

Day 1-7: Creator/Supervisor Payout Phase
├─ Protocol calculates: Which creators/supervisors worked on this dataset
├─ Attribution Facet retrieves: On-chain credential records
├─ Payout queue: Ready to distribute via batched transactions

Day 7-14: Buyback Execution
├─ H1 buyback bot monitors: $2,000 in buyback capacity (from example)
├─ Market conditions: Execute buyback when price < NAV
├─ H1 supply decreases: All existing H1 holders gain scarcity value
└─ Effect: H1-Healthcare shares increase in value automatically

Ongoing: NAV Appreciation
├─ Lab vault grows: +$5,000 added to vault assets
├─ H1 NAV increases: Assets / Shares = higher value per share
├─ Dividend effect: Without selling, H1 holders gain value
└─ Compounding: Next purchase = higher NAV base
```

### **Why This Model Works**

| Stakeholder | Incentive |
|-------------|-----------|
| **Lab Owners** | Direct 50% of revenue; benefit from producing high-quality datasets |
| **Data Creators** | 40% allocated; reputation and payment tied to dataset quality & sales |
| **Supervisors** | 10% allocated; incentivized to approve only high-quality data |
| **H1 Holders** | Automatic buyback pressure + NAV appreciation; passive yield |
| **Buyers** | Bulk discounts, transparent pricing, on-chain provenance verification |
| **Protocol** | 5% operational fee; sustainable growth without rug-pull risk |

### **Compliance & Auditability**

Every dataset purchase is:
- ✓ **On-chain**: Transaction recorded immutably
- ✓ **Transparent**: Revenue split visible to all parties
- ✓ **Traceable**: Links to creator credentials, supervisor credentials, and lab ownership
- ✓ **Auditable**: Enterprise customers can verify revenue destination
- ✓ **Compliant**: Enforced HIPAA/GDPR/FDA/C2PA rules per domain

---

## 18. Closing

H1 Labs unites verifiable human expertise with transparent token economics. By making provenance, credentialing, and compliance the substrate for AI data, we unlock trustworthy, enterprise‑grade datasets — and a sustainable crypto economy that rewards the people who create real intelligence.

The dual-token model ($LABS + H1), combined with revenue-driven buybacks and level-based app slots, creates a self-reinforcing flywheel where early adopters and high-quality validators are rewarded proportionally. This is not speculative tokenomics — it is provable economics tied to real dataset sales in regulated markets.


